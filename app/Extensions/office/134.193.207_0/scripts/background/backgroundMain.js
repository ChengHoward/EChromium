/*

 lodash 4.5.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 Build: `lodash -o ./dist/lodash.js`
 MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors */
define("qowtRoot/utils/typeUtils",[],function(){function h(a,g,e){if(e.types.every(function(g){var a=c[g];if(!a)throw Error("Bad config to checkArgTypes: unknown type: "+g);return!a(e.value)})){var h=1===e.types.length?e.types[0]:"["+e.types.join(",")+"]";throw Error("Argument "+g+" passed to function "+a+" was supposed to be of type "+h+" but had value "+e.value);}}var e={checkArgTypes:function(a,g){for(var c in g){var e={value:g[c][0],types:g[c].slice(1)};h(a,c,e)}},isObject:function(a){return"object"===
typeof a&&null!==a},isPromise:function(a){return a instanceof Promise},isPromiseLike:function(a){return!(!a||!e.isFunction(a.then))},isList:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isNumber:function(a){return"number"===typeof a&&!isNaN(a)},isInteger:function(a){return"number"===typeof a&&parseInt(a,10)===a},isFunction:function(a){return"function"===typeof a},isString:function(a){return"[object String]"===Object.prototype.toString.call(a)},isRegex:function(a){return"[object RegExp]"===
Object.prototype.toString.call(a)},isNode:function(a){return a instanceof Node},isNull:function(a){return null===a},isUndefined:function(a){return void 0===a},isBoolean:function(a){return"boolean"===typeof a},getType:function(a){var g;Object.keys(c).forEach(function(e){c[e](a)&&(g=e)});return g},isArgumentsObjectOrList:function(a){return a instanceof Object&&a.hasOwnProperty("length")},extend:function(a,g){for(var c in g)g.hasOwnProperty(c)&&(a[c]=g[c])},createNewType:function(a){var g=function(){},
e={isOfType:function(a){return void 0!==a&&null!==a&&a.constructor===g},markAsType:function(a){Object.defineProperty(a,"constructor",{value:g,configurable:!1,writable:!1,enumerable:!1});return a}};if(a){if(c[a])throw Error("Already registered type "+a);c[a]=e.isOfType}return e}},c={string:e.isString,object:e.isObject,promise:e.isPromise,promiseLike:e.isPromiseLike,node:e.isNode,regex:e.isRegex,"function":e.isFunction,number:e.isNumber,list:e.isList,boolean:e.isBoolean,"null":e.isNull,undefined:e.isUndefined};
return e});(function(){var h={},e=window.sessionStorage.getItem("featureOverrides");e&&(h=JSON.parse(e));h.isRelease=!0;h.edit=!1;window.sessionStorage.setItem("featureOverrides",JSON.stringify(h));window.localStorage.removeItem("testsToInclude");window.localStorage.removeItem("builtInTests")})();define("configs/releaseFeatures",function(){});
(function(){var h={},e=window.sessionStorage.getItem("featureOverrides");e&&(h=JSON.parse(e));h.save=!!(window.chrome&&window.chrome.fileSystem&&window.chrome.fileSystem.chooseEntry);window.sessionStorage.setItem("featureOverrides",JSON.stringify(h))})();define("configs/chromeFeatures",function(){});define("qowtRoot/features/pack",[],function(){return{edit:!0,save:!1,pointEdit:!1,hats:!0}});
define("qowtRoot/features/utils",["qowtRoot/features/pack"],function(h){var e={isEnabled:function(a){a=h[a];return void 0===a?!1:a},enable:function(a){h[a]=!0},disable:function(a){h[a]=!1},setOverrides:function(a){for(var g in a)a.hasOwnProperty(g)&&(h[g]=a[g])},isDebug:function(){return void 0!==c?c:!e.isEnabled("isRelease")},setDebugOverride:function(a){c=a},clearDebugOverride:function(){c=void 0}},c;return e});
(function(h){h("qowtRoot/third_party/when/lib/timer",["require"],function(e){return{set:setTimeout,clear:clearTimeout}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/timed",[],function(){return function(e,c,a){a.prototype.delay=function(a){var c=this;return new this.constructor(function(h,r,k){c.then(function(c){e(function(){h(c)},a)},r,k)})};a.prototype.timeout=function(a,h){var u=this,r=1<arguments.length;return new this.constructor(function(k,n,q){var v=e(function(){n(r?h:Error("timed out after "+a+"ms"))},a);u.then(function(a){c(v);k(a)},function(a){c(v);n(a)},q)})};return a}})})("function"===typeof define&&define.amd?
define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/array",[],function(){return function(e){var c=Array.prototype.map,a=Array.prototype.reduce,g=Array.prototype.reduceRight,h=Array.prototype.forEach,u=e.resolve,r=e.all;e.any=function(a){return new e(function(c,g){function e(a){A.push(a);0===--r&&g(A)}var r=0,A=[];h.call(a,function(a){++r;u(a).then(c,e)});0===r&&c()})};e.some=function(a,c){return new e(function(g,e,r){function A(a){0<t&&(--t,p.push(a),0===t&&g(p))}function z(a){0<E&&(--E,J.push(a),0===E&&
e(J))}var t=0,E,p=[],J=[];h.call(a,function(a){++t;u(a).then(A,z,r)});c=Math.max(c,0);E=t-c+1;t=Math.min(c,t);0===t&&g(p)})};e.settle=function(a){return r(c.call(a,function(a){function c(){return a.inspect()}a=u(a);return a.then(c,c)}))};e.map=function(a,g,e){return r(c.call(a,function(a){return u(a).then(g,e)}))};e.reduce=function(c,g){function e(a,c,k){return u(a).then(function(a){return u(c).then(function(c){return g(a,c,k)})})}return 2<arguments.length?a.call(c,e,arguments[2]):a.call(c,e)};e.reduceRight=
function(a,c){function e(a,g,k){return u(a).then(function(a){return u(g).then(function(g){return c(a,g,k)})})}return 2<arguments.length?g.call(a,e,arguments[2]):g.call(a,e)};e.prototype.spread=function(a){return this.then(r).then(function(c){return a.apply(void 0,c)})};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/fatal",["require","./timer"],function(e){var c=e("./timer").set;return function(a){c(function(){throw a;},0)}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/flow",["require","./fatal"],function(e){function c(){throw new TypeError("catch predicate must be a function");}function a(a,c){return function(){a.call(this);return c}}function g(){}var h=e("./fatal");return function(e){function r(a,c){return function(g){return(c===Error||null!=c&&c.prototype instanceof Error?g instanceof c:c(g))?a.call(this,g):n(g)}}var k=e.resolve,n=e.reject,q=e.prototype["catch"];e.prototype.done=function(a,c){var e=this._handler;
e.when(this._maybeFatal,g,this,e.receiver,a,c)};e.prototype._maybeFatal=function(a){if(Object(a)===a)k(a)["catch"](this._fatal)};e.prototype._fatal=h;e.prototype["catch"]=e.prototype.otherwise=function(a){return 1===arguments.length?q.call(this,a):"function"!==typeof a?this.ensure(c):q.call(this,r(arguments[1],a))};e.prototype["finally"]=e.prototype.ensure=function(c){if("function"!==typeof c)return this;c=a(c,this);return this.then(c,c)};e.prototype["else"]=e.prototype.orElse=function(a){return this.then(void 0,
function(){return a})};e.prototype.yield=function(a){return this.then(function(){return a})};e.prototype.tap=function(a){return this.then(a).yield(this)};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});(function(h){h("qowtRoot/third_party/when/lib/inspect",[],function(){return function(e){e.prototype.inspect=function(){return this._handler.inspect()};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/iterate",[],function(){return function(e){function c(a,e,h,k){function n(k){return g(h(k)).then(function(){return c(a,e,h,a(k))})}return g(k).then(function(a){return g(e(a)).then(function(c){return c?a:n(a)})})}function a(c,e,h,k){function n(k,n){return g(h(k)).then(function(){return a(c,e,h,n)})}return g(k).then(function(a){return g(e(a)).then(function(e){return e?a:g(c(a)).spread(n)})})}var g=e.resolve;e.iterate=c;e.unfold=a;return e}})})("function"===
typeof define&&define.amd?define:function(h){module.exports=h()});(function(h){h("qowtRoot/third_party/when/lib/progress",[],function(){return function(e){e.prototype.progress=function(c){return this.then(void 0,void 0,c)};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/with",[],function(){return function(e){e.prototype["with"]=e.prototype.withThis=e.prototype._bindContext;return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/makePromise",[],function(){return function(e){function c(c){var e=this;this._handler=new v;a(c,function(a){e._handler.resolve(a)},function(a){e._handler.reject(a)},function(a){e._handler.notify(a)})}function a(a,c,e,g){try{a(c,e,g)}catch(k){e(k)}}function g(a){return new h(new H(new E(a)))}function h(a){this._handler=a}function u(a,e){if(a instanceof c){var g=a._handler.join();return e===g?new E(new TypeError("Promise cycle")):g}return ab(a)?k(a):new t(a)}
function r(a){return a instanceof c?a._handler.join():k(a)}function k(a){try{var c=a.then;return"function"===typeof c?new z(c,a):new t(a)}catch(e){return new E(e)}}function n(){}function q(a){this.handler=a;if(this._isMonitored()){var c=this._env.promiseMonitor.captureStack();this.trace=a._addTrace(c)}}function v(a){this.consumers=[];this.receiver=a;this.handler=void 0;this.resolved=!1;this._isMonitored()&&(this.trace=this._env.promiseMonitor.captureStack())}function H(a){q.call(this,a)}function A(a,
c){q.call(this,a);this.receiver=c}function z(a,c){v.call(this);this.assimilated=!1;this.untrustedThen=a;this.thenable=c}function t(a){this.value=a}function E(a){this.value=a;this.observed=!1;this._isMonitored()&&(this.key=this._env.promiseMonitor.startTrace(a))}function p(){return{state:"pending"}}function J(a,c,e,g,k,h,n,p){this.a=a;this.b=c;this.c=e;this.d=g;this.e=k;this.f=h;this.g=n;this.handler=p}function F(a,c){this.q=a;this.value=c}function ab(a){return("object"===typeof a||"function"===typeof a)&&
null!==a}function Na(a,c,e){try{return a.call(e,c)}catch(k){return g(k)}}function Y(){}var Oa,ya=e.scheduler,ga=Object.create||function(a){function c(){}c.prototype=a;return new c};c.resolve=function(a){return a instanceof c?a:new h(new H(u(a)))};c.reject=g;c.never=function(){return Oa};c._defer=function(){return new h(new v)};c.prototype.then=function(a,c,e){var g=this._handler,k=new v(g.receiver);g.when(k.resolve,k.notify,k,g.receiver,a,c,e);return new h(k)};c.prototype["catch"]=c.prototype.otherwise=
function(a){return this.then(void 0,a)};c.prototype._bindContext=function(a){return new h(new A(this._handler,a))};c.all=function(a){function c(a,e,g,h){g.when(Y,Y,void 0,a,function(a){e[h]=a;0===--k&&this.resolve(e)},a.reject,a.notify)}var e=new v,g=a.length>>>0,k=g,n=[],p,F;for(p=0;p<g;++p)p in a?(F=a[p],ab(F)?c(e,n,r(F),p):(n[p]=F,--k)):--k;0===k&&e.resolve(n);return new h(e)};c.race=function(a){if(Object(a)===a&&0===a.length)return Oa;for(var c=new v,e=0;e<a.length;++e)u(a[e]).when(Y,Y,void 0,
c,c.resolve,c.reject);return new h(c)};h.prototype=ga(c.prototype);n.prototype.inspect=p;n.prototype.when=Y;n.prototype.resolve=Y;n.prototype.reject=Y;n.prototype.notify=Y;n.prototype.join=function(){return this};n.prototype._env=e.monitor||c;n.prototype._addTrace=Y;n.prototype._isMonitored=function(){return"undefined"!==typeof this._env.promiseMonitor};q.prototype=ga(n.prototype);q.prototype.join=function(){return this.handler.join()};q.prototype.inspect=function(){return this.handler.inspect()};
q.prototype._addTrace=function(a){return this.handler._addTrace(a)};v.prototype=ga(n.prototype);v.prototype.inspect=function(){return this.resolved?this.handler.join().inspect():p()};v.prototype.resolve=function(a){this._join(u(a,this))};v.prototype.reject=function(a){this._join(new E(a))};v.prototype.join=function(){return this.resolved?this.handler.join():this};v.prototype.run=function(){var a=this.consumers,c=this.handler=this.handler.join();this.consumers=void 0;for(var e=0;e<a.length;e+=7)c.when(a[e],
a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])};v.prototype._join=function(a){this.resolved||(this.resolved=!0,this.handler=a,ya.enqueue(this),this._isMonitored()&&(this.trace=a._addTrace(this.trace)))};v.prototype.when=function(a,c,e,g,k,h,n){this.resolved?ya.enqueue(new J(a,c,e,g,k,h,n,this.handler.join())):this.consumers.push(a,c,e,g,k,h,n)};v.prototype.notify=function(a){this.resolved||ya.enqueue(new F(this.consumers,a))};v.prototype._addTrace=function(a){return this.resolved?this.handler._addTrace(a):
a};H.prototype=ga(q.prototype);H.prototype.when=function(a,c,e,g,k,h,n){ya.enqueue(new J(a,c,e,g,k,h,n,this.join()))};A.prototype=ga(q.prototype);A.prototype.when=function(a,c,e,g,k,h,n){void 0!==this.receiver&&(g=this.receiver);this.join().when(a,c,e,g,k,h,n)};z.prototype=ga(v.prototype);z.prototype.when=function(a,c,e,g,k,h,n){this.assimilated||(this.assimilated=!0,this._assimilate());v.prototype.when.call(this,a,c,e,g,k,h,n)};z.prototype._assimilate=function(){var a=this;this._try(this.untrustedThen,
this.thenable,function(c){a.resolve(c)},function(c){a.reject(c)},function(c){a.notify(c)})};z.prototype._try=function(a,c,e,g,k){try{a.call(c,e,g,k)}catch(h){g(h)}};t.prototype=ga(n.prototype);t.prototype.inspect=function(){return{state:"fulfilled",value:this.value}};t.prototype.when=function(a,c,e,g,k){c="function"===typeof k?Na(k,this.value,g):this.value;a.call(e,c)};E.prototype=ga(n.prototype);E.prototype.inspect=function(){return{state:"rejected",reason:this.value}};E.prototype.when=function(a,
c,e,k,h,n){this._isMonitored()&&!this.observed&&this._env.promiseMonitor.removeTrace(this.key);this.observed=!0;c="function"===typeof n?Na(n,this.value,k):g(this.value);a.call(e,c)};E.prototype._addTrace=function(a){this.observed||this._env.promiseMonitor.updateTrace(this.key,a)};Oa=new h(new n);J.prototype.run=function(){this.handler.when(this.a,this.b,this.c,this.d,this.e,this.f,this.g)};F.prototype.run=function(){for(var a=this.q,c=1;c<a.length;c+=7)this._notify(a[c],a[c+1],a[c+2],a[c+5])};F.prototype._notify=
function(a,c,e,g){var k;if("function"===typeof g)try{k=g.call(e,this.value)}catch(h){k=h}else k=this.value;a.call(c,k)};return c}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/Queue",[],function(){function e(c){this.head=this.tail=this.length=0;this.buffer=Array(1<<c)}e.prototype.push=function(c){this.length===this.buffer.length&&this._ensureCapacity(2*this.length);this.buffer[this.tail]=c;this.tail=this.tail+1&this.buffer.length-1;++this.length;return this.length};e.prototype.shift=function(){var c=this.buffer[this.head];this.buffer[this.head]=void 0;this.head=this.head+1&this.buffer.length-1;--this.length;return c};e.prototype._ensureCapacity=
function(c){var a=this.head,e=this.buffer,h=Array(c),u=0,r;if(0===a)for(r=this.length;u<r;++u)h[u]=e[u];else{c=e.length;for(r=this.tail;a<c;++u,++a)h[u]=e[a];for(a=0;a<r;++u,++a)h[u]=e[a]}this.buffer=h;this.head=0;this.tail=this.length};return e})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/scheduler",["require","./Queue"],function(e){function c(c){this._enqueue=c;this._handlerQueue=new a(15);var e=this;this.drainQueue=function(){e._drainQueue()}}var a=e("./Queue");c.prototype.enqueue=function(a){1===this._handlerQueue.push(a)&&this._enqueue(this.drainQueue)};c.prototype._drainQueue=function(){for(var a=this._handlerQueue;0<a.length;)a.shift().run()};return c})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/async",["require"],function(e){var c;return"undefined"!==typeof process&&null!==process&&"function"===typeof process.nextTick?function(a){process.nextTick(a)}:(c="function"===typeof MutationObserver&&MutationObserver||"function"===typeof WebKitMutationObserver&&WebKitMutationObserver)?function(a,c){var e,h=a.createElement("div");(new c(function(){var a=e;e=void 0;a()})).observe(h,{attributes:!0});return function(a){e=a;h.setAttribute("class","x")}}(document,
c):function(a){var c=setTimeout;return function(a){c(a,0)}}(e)})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});(function(h){h("qowtRoot/third_party/when/lib/Promise",["require","./makePromise","./scheduler","./async"],function(e){var c=e("./makePromise"),a=e("./scheduler");e=e("./async");return c({scheduler:new a(e),monitor:"undefined"!==typeof console?console:void 0})})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/when","require ./lib/timer ./lib/timed ./lib/array ./lib/flow ./lib/inspect ./lib/iterate ./lib/progress ./lib/with ./lib/Promise".split(" "),function(e){function c(a,c,e,g){var k=E(a);return 2>arguments.length?k:k.then(c,e,g)}function a(a){return function(){return h(a,this,p.call(arguments))}}function g(a){return h(a,this,p.call(arguments,1))}function h(a,c,e){return t.all(e).then(function(e){return a.apply(c,e)})}function u(){function a(c){g._handler.resolve(c)}
function c(a){g._handler.reject(a)}function e(a){g._handler.notify(a)}var g=t._defer();this.promise=g;this.resolve=a;this.reject=c;this.notify=e;this.resolver={resolve:a,reject:c,notify:e}}var r=e("./lib/timer"),k=e("./lib/timed"),n=e("./lib/array"),q=e("./lib/flow"),v=e("./lib/inspect"),H=e("./lib/iterate"),A=e("./lib/progress"),z=e("./lib/with"),t=e("./lib/Promise"),t=[n,q,H,A,v,z].reduceRight(function(a,c){return c(a)},k(r.set,r.clear,t)),E=t.resolve,p=Array.prototype.slice;c.promise=function(a){return new t(a)};
c.resolve=t.resolve;c.reject=t.reject;c.lift=a;c["try"]=g;c.attempt=g;c.iterate=t.iterate;c.unfold=t.unfold;c.join=function(){return t.all(arguments)};c.all=function(a){return c(a,t.all)};c.settle=function(a){return c(a,t.settle)};c.any=a(t.any);c.some=a(t.some);c.map=function(a,e){return c(a,function(a){return t.map(a,e)})};c.reduce=function(a,e){var g=p.call(arguments,1);return c(a,function(a){g.unshift(a);return t.reduce.apply(t,g)})};c.reduceRight=function(a,e){var g=p.call(arguments,1);return c(a,
function(a){g.unshift(a);return t.reduceRight.apply(t,g)})};c.isPromiseLike=function(a){return a&&"function"===typeof a.then};c.Promise=t;c.defer=function(){return new u};return c})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
define("qowtRoot/utils/promiseUtils",["qowtRoot/utils/typeUtils","qowtRoot/third_party/when/when"],function(h,e){var c={cast:function(a){return a instanceof Promise?a:Promise.resolve(a)},delay:function(a,c){a=a||0;return new Promise(function(e){setTimeout(e.bind(void 0,c),a)})},delayThenReject:function(a,c){a=a||0;return new Promise(function(e,h){setTimeout(h.bind(e,c),a)})},throwAndEscapeChain:function(a){a instanceof Error||(console.error("throwAndEscapeChain wrapping value in new Error: ",a),a=
Error(a));e.reject(a).done();throw a;},pipeline:function(a){function e(){for(var r=Array.prototype.slice.call(arguments,0);0<a.length;){var k=a.shift();if(h.isPromiseLike(k))return c.cast(k).then(function(c){a.unshift(c);return e.apply(w,r)});h.checkArgTypes("PromiseUtils.pipeline",{task:[k,"function"]});k=k.apply(w,r);if(h.isPromiseLike(k))return c.cast(k).then(function(a){return e(a)});r=[k]}return r[0]}var w=this,u=Array.prototype.slice.call(arguments,0);if(u.some(h.isPromiseLike))return Promise.all(u).then(function(a){return c.pipeline.apply(w,
a)});h.checkArgTypes("PromiseUtils.pipeline",{tasks:[a,"list"]});a=a.slice(0);return e.apply(w,u.slice(1))},finally:function(a,e){function h(){return c.cast(e()).then(function(){return a})}return c.cast(a).then(h,h)},waitForNextMacroTurn:function(a){return new Promise(function(c){window.setTimeout(c.bind(null,a),0)})}};return c});
define("utils/analytics/googleAnalytics",["qowtRoot/features/utils","qowtRoot/utils/promiseUtils"],function(h,e){function c(c,e){var g;void 0!==t?g=t?Promise.resolve():Promise.reject(Error("ga permission cached (not permitted)")):(window.analytics&&chrome&&chrome.metricsPrivate&&chrome.metricsPrivate.getIsCrashReportingEnabled&&(!h.isDebug()||void 0!==window.__gaMock)?g=Promise.resolve():(console.warn("GA not supported on this platform"),g=Promise.reject(Error("GA not supported on this platform"))),
g=g.then(a).catch(u));return g.then(r).then(c.bind(null,e)).catch(function(){})}function a(){var a=Error("Crash reporting setting timed out");return Promise.race([g(),e.delayThenReject(1E3,a)]).then(w)}function g(){return new Promise(function(a){chrome.metricsPrivate.getIsCrashReportingEnabled(a)})}function w(a){return new Promise(function(c,e){E=window.analytics.getService(A);E.getConfig().addCallback(function(g){g.setTrackingPermitted(a);(t=a)?c():(console.warn("Crash reporting not allowed"),e())})})}
function u(){t=!1;return Promise.reject()}function r(){void 0===p&&k("QO");return Promise.resolve()}function k(a){p&&p.sendAppView(a);p=E.getTracker(H[a]);J&&p.set(window.analytics.Parameters.SESSION_GROUP,J);p.forceSessionStart();return Promise.resolve()}function n(a){z!==a&&(z=a,p.sendAppView(a));return Promise.resolve()}function q(a){p.sendException(a.msg,a.fatal);return Promise.resolve()}function v(a){p.sendEvent(a.category,a.action,a.label,a.value);return Promise.resolve()}var H={word:"UA-44583639-1",
sheet:"UA-44583639-2",point:"UA-44583639-3",QO:"UA-44583639-4"},A="Quickoffice",z,t,E,p,J;return{setSessionGroup:function(a){J=a},setTracker:function(a){return c(k,a)},sendState:function(a){return c(n,a)},sendException:function(a){return c(q,a)},sendEvent:function(a){return c(v,a)},reset:function(){p=E=t=z=void 0}}});
define("qowtRoot/utils/i18n",["qowtRoot/utils/typeUtils","utils/analytics/googleAnalytics"],function(h,e){var c={getMessage:function(a,e){var w="????";if(!chrome||!chrome.i18n)return a;h.isString(a)?(w=chrome.i18n.getMessage(a,e),w||(w=a,c.logError_("Missing translation",a))):c.logError_("Invalid string translation Id",a);return w},logError_:function(a,c){console.error(a+" "+c);e.sendException({msg:a,fatal:!1})}};return c});
(function(){function h(a,f){return a.set(f[0],f[1]),a}function e(a,f){return a.add(f),a}function c(a,f,c){switch(c.length){case 0:return a.call(f);case 1:return a.call(f,c[0]);case 2:return a.call(f,c[0],c[1]);case 3:return a.call(f,c[0],c[1],c[2])}return a.apply(f,c)}function a(a,f,c,e){for(var g=-1,k=a.length;++g<k;){var h=a[g];f(e,h,c(h),a)}return e}function g(a,f){for(var c=-1,e=a.length;++c<e&&!1!==f(a[c],c,a););return a}function w(a,f){for(var c=-1,e=a.length;++c<e;)if(!f(a[c],c,a))return!1;
return!0}function u(a,f){for(var c=-1,e=a.length,g=-1,k=[];++c<e;){var h=a[c];f(h,c,a)&&(k[++g]=h)}return k}function r(a,f){return!!a.length&&-1<p(a,f,0)}function k(a,f,c){for(var e=-1,g=a.length;++e<g;)if(c(f,a[e]))return!0;return!1}function n(a,f){for(var c=-1,e=a.length,g=Array(e);++c<e;)g[c]=f(a[c],c,a);return g}function q(a,f){for(var c=-1,e=f.length,g=a.length;++c<e;)a[g+c]=f[c];return a}function v(a,f,c,e){var g=-1,k=a.length;for(e&&k&&(c=a[++g]);++g<k;)c=f(c,a[g],g,a);return c}function H(a,
f,c,e){var g=a.length;for(e&&g&&(c=a[--g]);g--;)c=f(c,a[g],g,a);return c}function A(a,f){for(var c=-1,e=a.length;++c<e;)if(f(a[c],c,a))return!0;return!1}function z(a,f,c){for(var e=-1,g=a.length;++e<g;){var k=a[e],h=f(k);if(null!=h&&(n===m?h===h:c(h,n)))var n=h,p=k}return p}function t(a,f,c,e){var g;return c(a,function(a,c,k){return f(a,c,k)?(g=e?c:a,!1):void 0}),g}function E(a,f,c){for(var e=a.length,g=c?e:-1;c?g--:++g<e;)if(f(a[g],g,a))return g;return-1}function p(a,f,c){if(f!==f)return Lc(a,c);
--c;for(var e=a.length;++c<e;)if(a[c]===f)return c;return-1}function J(a,f,c,e,g){return g(a,function(a,g,k){c=e?(e=!1,a):f(c,a,g,k)}),c}function F(a,f){var c=a.length;for(a.sort(f);c--;)a[c]=a[c].c;return a}function ab(a,f){for(var c,e=-1,g=a.length;++e<g;){var k=f(a[e]);k!==m&&(c=c===m?k:c+k)}return c}function Na(a,f){for(var c=-1,e=Array(a);++c<a;)e[c]=f(c);return e}function Y(a,c){return n(c,function(c){return[c,a[c]]})}function Oa(a){return function(c){return a(c)}}function ya(a,c){return n(c,
function(c){return a[c]})}function ga(a,c){for(var e=-1,g=a.length;++e<g&&-1<p(c,a[e],0););return e}function Jc(a,c){for(var e=a.length;e--&&-1<p(c,a[e],0););return e}function pa(a){return a&&a.Object===Object?a:null}function Kc(a,c){if(a!==c){var e=null===a,g=a===m,k=a===a,h=null===c,n=c===m,p=c===c;if(a>c&&!h||!k||e&&!n&&p||g&&p)return 1;if(c>a&&!e||!p||h&&!g&&k||n&&k)return-1}return 0}function ue(a){return Pb[a]}function ve(a){return Qb[a]}function we(a){return"\\"+Rb[a]}function Lc(a,c,e){var g=
a.length;for(c+=e?0:-1;e?c--:++c<g;){var k=a[c];if(k!==k)return c}return-1}function bb(a){var c=!1;if(null!=a&&"function"!=typeof a.toString)try{c=!!(a+"")}catch(e){}return c}function za(a,c){return a="number"==typeof a||Sb.test(a)?+a:-1,-1<a&&0==a%1&&(null==c?9007199254740991:c)>a}function Mc(a){for(var c,e=[];!(c=a.next()).done;)e.push(c.value);return e}function Ob(a){var c=-1,e=Array(a.size);return a.forEach(function(a,g){e[++c]=[g,a]}),e}function Aa(a,c){for(var e=-1,g=a.length,k=-1,h=[];++e<
g;){var m=a[e];(m===c||"__lodash_placeholder__"===m)&&(a[e]="__lodash_placeholder__",h[++k]=e)}return h}function pb(a){var c=-1,e=Array(a.size);return a.forEach(function(a){e[++c]=a}),e}function cb(a){if(!a||!qb.test(a))return a.length;for(var c=aa.lastIndex=0;aa.test(a);)c++;return c}function xe(a){return Tb[a]}function Nc(M){function f(b){if(P(b)&&!B(b)&&!(b instanceof C)){if(b instanceof Z)return b;if(O.call(b,"__wrapped__"))return Oc(b)}return new Z(b)}function X(){}function Z(b,d){this.__wrapped__=
b;this.__actions__=[];this.__chain__=!!d;this.__index__=0;this.__values__=m}function C(b){this.__wrapped__=b;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function xa(){}function Ba(b){var d=-1,l=b?b.length:0;for(this.clear();++d<l;){var a=b[d];this.set(a[0],a[1])}}function oa(b){var d=-1,l=b?b.length:0;for(this.__data__=new Ba;++d<l;)this.push(b[d])}function pa(b,d){var l=b.__data__;return Pa(d)?(l=l.__data__,"__lodash_hash_undefined__"===
("string"==typeof d?l.string:l.hash)[d]):l.has(d)}function qa(b){var d=-1,l=b?b.length:0;for(this.clear();++d<l;){var a=b[d];this.set(a[0],a[1])}}function $a(b,d){var l=db(b,d);return 0>l?!1:(l==b.length-1?b.pop():sb.call(b,l,1),!0)}function ob(b,d){var l=db(b,d);return 0>l?m:b[l][1]}function db(b,d){for(var l=b.length;l--;)if(ra(b[l][0],d))return l;return-1}function Pc(b,d,l){var a=db(b,d);0>a?b.push([d,l]):b[a][1]=l}function Ub(b,d,l,a){return b===m||ra(b,Qa[l])&&!O.call(a,l)?d:b}function Qc(b,
d,l){(l===m||ra(b[d],l))&&("number"!=typeof d||l!==m||d in b)||(b[d]=l)}function tb(b,d,l){var a=b[d];O.call(b,d)&&ra(a,l)&&(l!==m||d in b)||(b[d]=l)}function Pb(b,d,l,a){return sa(b,function(b,c,e){d(a,b,l(b),e)}),a}function Rc(b,d){return b&&eb(d,T(d),b)}function Vb(b,d){for(var l=-1,a=null==b,c=d.length,e=Array(c);++l<c;)e[l]=a?m:fb(b,d[l]);return e}function Wb(b){return Q(b)?b:[]}function Ea(b){return"function"==typeof b?b:ha}function Fa(b){return B(b)?b:Sc(b)}function Ra(b,d,l){return b===b&&
(l!==m&&(b=b>l?l:b),d!==m&&(b=d>b?d:b)),b}function ia(b,d,l,a,c,e){var f;if(l&&(f=c?l(b,a,c,e):l(b)),f!==m)return f;if(!N(b))return b;if(a=B(b)){if(f=ye(b),!d)return U(b,f)}else{var k=ja(b),h="[object Function]"==k||"[object GeneratorFunction]"==k;if(Tc(b))return ze(b,d);if("[object Object]"==k||"[object Arguments]"==k||h&&!c){if(bb(b))return c?b:{};if(f=Ae(h?{}:b),!d)return Uc(b,Rc(f,b))}else{if(!I[k])return c?b:{};f=Be(b,k,d)}}return e||(e=new qa),(c=e.get(b))?c:(e.set(b,f),(a?g:ka)(b,function(a,
rb){tb(f,rb,ia(a,d,l,rb,b,e))}),a?f:Uc(b,f))}function Qb(b){var d=T(b),l=d.length;return function(a){if(null==a)return!l;for(var c=l;c--;){var e=d[c],f=b[e],g=a[e];if(g===m&&!(e in Object(a))||!f(g))return!1}return!0}}function Sa(b){return N(b)?De(b):{}}function Vc(b,d,l){if("function"!=typeof b)throw new ba("Expected a function");return ub(function(){b.apply(m,l)},d)}function Ga(b,d,l,a){var c=-1,e=r,f=!0,g=b.length,h=[],m=d.length;if(!g)return h;l&&(d=n(d,Oa(l)));a?(e=k,f=!1):200<=d.length&&(e=
pa,f=!1,d=new oa(d));a:for(;++c<g;){var p=b[c],q=l?l(p):p;if(f&&q===q){for(var t=m;t--;)if(d[t]===q)continue a;h.push(p)}else e(d,q,a)||h.push(p)}return h}function Rb(b,d){var l=!0;return sa(b,function(b,a,c){return l=!!d(b,a,c)}),l}function Wc(b,d){var l=[];return sa(b,function(b,a,c){d(b,a,c)&&l.push(b)}),l}function L(b,d,l,a){a||(a=[]);for(var c=-1,e=b.length;++c<e;){var f=b[c];0<d&&Q(f)&&(l||B(f)||Ha(f))?1<d?L(f,d-1,l,a):q(a,f):l||(a[a.length]=f)}return a}function Sb(b,d){return null==b?b:Xb(b,
d,ca)}function ka(b,d){return b&&Xb(b,d,T)}function Yb(b,d){return b&&Xc(b,d,T)}function vb(b,d){return u(d,function(d){return da(b[d])})}function Zb(b,d){d=ta(d,b)?[d+""]:Fa(d);for(var l=0,a=d.length;null!=b&&a>l;)b=b[d[l++]];return l&&l==a?b:m}function $b(b,d){return O.call(b,d)||"object"==typeof b&&d in b&&null===wb(b)}function Tb(b,d){return d in Object(b)}function ac(b,d,l){for(var a=l?k:r,c=b.length,e=c,f=Array(c),g=[];e--;){var h=b[e];e&&d&&(h=n(h,Oa(d)));f[e]=l||!d&&120>h.length?m:new oa(e&&
h)}var h=b[0],p=-1,Ce=h.length,q=f[0];a:for(;++p<Ce;){var t=h[p],v=d?d(t):t;if(q?!pa(q,v):!a(g,v,l)){for(e=c;--e;){var u=f[e];if(u?!pa(u,v):!a(b[e],v,l))continue a}q&&q.push(v);g.push(t)}}return g}function Ic(b,d,l,a){return ka(b,function(b,c,e){d(a,l(b),c,e)}),a}function gb(b,d,l){return ta(d,b)||(d=Fa(d),b=hb(b,d),d=V(d)),d=null==b?b:b[d],null==d?m:c(d,b,l)}function Ia(b,d,l,a,c){if(b===d)return!0;if(null==b||null==d||!N(b)&&!P(d))return b!==b&&d!==d;var e=B(b),f=B(d),g="[object Array]",k="[object Array]";
e||(g=ja(b),"[object Arguments]"==g?g="[object Object]":"[object Object]"!=g&&(e=Ta(b)));f||(k=ja(d),"[object Arguments]"==k?k="[object Object]":"[object Object]"!=k&&Ta(d));var h="[object Object]"==g&&!bb(b),f="[object Object]"==k&&!bb(d),k=g==k;!k||e||h?2&a||(g=h&&O.call(b,"__wrapped__"),f=f&&O.call(d,"__wrapped__"),!g&&!f)?k?(c||(c=new qa),b=(e?Ee:Fe)(b,d,Ia,l,a,c)):b=!1:b=Ia(g?b.value():b,f?d.value():d,l,a,c):b=Ge(b,d,g,Ia,l,a);return b}function bc(b,d,l,a){var c=l.length,e=c,f=!a;if(null==b)return!e;
for(b=Object(b);c--;){var g=l[c];if(f&&g[2]?g[1]!==b[g[0]]:!(g[0]in b))return!1}for(;++c<e;){var g=l[c],k=g[0],h=b[k],n=g[1];if(f&&g[2]){if(h===m&&!(k in b))return!1}else if(g=new qa,k=a?a(h,n,k,b,d,g):m,k===m?!Ia(n,h,a,3,g):!k)return!1}return!0}function Yc(b){var d=typeof b;return"function"==d?b:null==b?ha:"object"==d?B(b)?Zc(b[0],b[1]):$c(b):ad(b)}function bd(b){b=null==b?b:Object(b);var d,l=[];for(d in b)l.push(d);return l}function cd(b,d){var l=-1,a=ea(b)?Array(b.length):[];return sa(b,function(b,
c,e){a[++l]=d(b,c,e)}),a}function $c(b){var d=cc(b);if(1==d.length&&d[0][2]){var l=d[0][0],a=d[0][1];return function(b){return null==b?!1:b[l]===a&&(a!==m||l in Object(b))}}return function(l){return l===b||bc(l,b,d)}}function Zc(b,d){return function(l){var a=fb(l,b);return a===m&&a===d?dd(l,b):Ia(d,a,m,3)}}function xb(b,d,l,a,c){if(b!==d){var e=B(d)||Ta(d)?m:ca(d);g(e||d,function(f,g){if(e&&(g=f,f=d[g]),N(f)){c||(c=new qa);var k=g,h=c,n=b[k],p=d[k],q=h.get(p);if(!q){var q=a?a(n,p,k+"",b,d,h):m,r=
q===m;r&&(q=p,B(p)||Ta(p)?B(n)?q=n:Q(n)?q=U(n):(r=!1,q=ia(p,!0)):dc(p)||Ha(p)?Ha(n)?q=ed(n):!N(n)||l&&da(n)?(r=!1,q=ia(p,!0)):q=n:r=!1);h.set(p,q);r&&xb(q,p,l,a,h)}Qc(b,k,q)}else k=a?a(b[g],f,g+"",b,d,c):m,k===m&&(k=f),Qc(b,g,k)})}}function fd(b,d,l){var a=-1,c=y();return d=n(d.length?d:Array(1),function(b){return c(b)}),b=cd(b,function(b,l,c){return{a:n(d,function(d){return d(b)}),b:++a,c:b}}),F(b,function(b,d){var a;a:{a=-1;for(var c=b.a,rb=d.a,e=c.length,f=l.length;++a<e;){var g=Kc(c[a],rb[a]);
if(g){if(a>=f){a=g;break a}a=g*("desc"==l[a]?-1:1);break a}}a=b.b-d.b}return a})}function gd(b,d){return b=Object(b),v(d,function(d,a){return a in b&&(d[a]=b[a]),d},{})}function hd(b,d){var l={};return Sb(b,function(b,a){d(b,a)&&(l[a]=b)}),l}function ec(b){return function(d){return null==d?m:d[b]}}function He(b){return function(d){return Zb(d,b)}}function id(b,d,l){var a=-1,c=d.length,e=b;for(l&&(e=n(b,function(b){return l(b)}));++a<c;)for(var f=0,g=d[a],g=l?l(g):g;-1<(f=p(e,g,f));)e!==b&&sb.call(e,
f,1),sb.call(b,f,1);return b}function jd(b,d){for(var l=b?d.length:0,a=l-1;l--;){var c=d[l];if(a==l||c!=e){var e=c;if(za(c))sb.call(b,c,1);else if(ta(c,b))delete b[c];else{var c=Fa(c),f=hb(b,c);null!=f&&delete f[V(c)]}}}return b}function fc(b,d){return b+yb(kd()*(d-b+1))}function gc(b,d,l,a){d=ta(d,b)?[d+""]:Fa(d);for(var c=-1,e=d.length,f=e-1,g=b;null!=g&&++c<e;){var k=d[c];if(N(g)){var h=l;if(c!=f){var n=g[k],h=a?a(n,k,g):m;h===m&&(h=null==n?za(d[c+1])?[]:{}:n)}tb(g,k,h)}g=g[k]}return b}function ua(b,
d,l){var a=-1,c=b.length;0>d&&(d=-d>c?0:c+d);l=l>c?c:l;0>l&&(l+=c);c=d>l?0:l-d>>>0;d>>>=0;for(l=Array(c);++a<c;)l[a]=b[a+d];return l}function Ie(b,d){var l;return sa(b,function(b,a,c){return l=d(b,a,c),!l}),!!l}function zb(b,d,l){var a=0,c=b?b.length:a;if("number"==typeof d&&d===d&&2147483647>=c){for(;c>a;){var e=a+c>>>1,f=b[e];(l?d>=f:d>f)&&null!==f?a=e+1:c=e}return c}return hc(b,d,ha,l)}function hc(b,d,l,a){d=l(d);for(var c=0,e=b?b.length:0,f=d!==d,g=null===d,k=d===m;e>c;){var h=yb((c+e)/2),n=l(b[h]),
p=n!==m,q=n===n;(f?q||a:g?q&&p&&(a||null!=n):k?q&&(a||p):null==n?0:a?d>=n:d>n)?c=h+1:e=h}return fa(e,4294967294)}function ld(b,d){for(var l=0,a=b.length,c=b[0],e=d?d(c):c,f=e,g=0,k=[c];++l<a;)c=b[l],e=d?d(c):c,ra(e,f)||(f=e,k[++g]=c);return k}function Ja(b,d,l){var a=-1,c=r,e=b.length,f=!0,g=[],h=g;if(l)f=!1,c=k;else if(200>e)h=d?[]:g;else{if(c=d?null:Je(b))return pb(c);f=!1;c=pa;h=new oa}a:for(;++a<e;){var m=b[a],n=d?d(m):m;if(f&&n===n){for(var p=h.length;p--;)if(h[p]===n)continue a;d&&h.push(n);
g.push(m)}else c(h,n,l)||(h!==g&&h.push(n),g.push(m))}return g}function Ab(b,d,l,a){for(var c=b.length,e=a?c:-1;(a?e--:++e<c)&&d(b[e],e,b););return l?ua(b,a?0:e,a?e+1:c):ua(b,a?e+1:0,a?c:e)}function md(b,d){var l=b;return l instanceof C&&(l=l.value()),v(d,function(b,d){return d.func.apply(d.thisArg,q([b],d.args))},l)}function ic(b,d,l){for(var a=-1,c=b.length;++a<c;)var e=e?q(Ga(e,b[a],d,l),Ga(b[a],e,d,l)):b[a];return e&&e.length?Ja(e,d,l):[]}function nd(b,d,l){for(var a=-1,c=b.length,e=d.length,
f={};++a<c;)l(f,b[a],e>a?d[a]:m);return f}function ze(b,d){if(d)return b.slice();var l=new b.constructor(b.length);return b.copy(l),l}function od(b){var d=new b.constructor(b.byteLength);return(new Bb(d)).set(new Bb(b)),d}function pd(b,d,l,a){var c=-1,e=b.length,f=l.length,g=-1,k=d.length,h=R(e-f,0),m=Array(k+h);for(a=!a;++g<k;)m[g]=d[g];for(;++c<f;)(a||e>c)&&(m[l[c]]=b[c]);for(;h--;)m[g++]=b[c++];return m}function qd(b,d,l,a){var c=-1,e=b.length,f=-1,g=l.length,k=-1,h=d.length,m=R(e-g,0),n=Array(m+
h);for(a=!a;++c<m;)n[c]=b[c];for(m=c;++k<h;)n[m+k]=d[k];for(;++f<g;)(a||e>c)&&(n[m+l[f]]=b[c++]);return n}function U(b,d){var l=-1,a=b.length;for(d||(d=Array(a));++l<a;)d[l]=b[l];return d}function eb(b,d,l){return jc(b,d,l)}function jc(b,d,l,a){l||(l={});for(var c=-1,e=d.length;++c<e;){var f=d[c],g=a?a(l[f],b[f],f,l,b):b[f];tb(l,f,g)}return l}function Uc(b,d){return eb(b,Ke(b),d)}function Cb(b,d){return function(l,c){var e=B(l)?a:Pb,f=d?d():{};return e(l,b,y(c),f)}}function Ua(b){return x(function(d,
l){var a=-1,c=l.length,e=1<c?l[c-1]:m,f=2<c?l[2]:m,e="function"==typeof e?(c--,e):m;f&&la(l[0],l[1],f)&&(e=3>c?m:e,c=1);for(d=Object(d);++a<c;)(f=l[a])&&b(d,f,a,e);return d})}function rd(b,d){return function(l,a){if(null==l)return l;if(!ea(l))return b(l,a);for(var c=l.length,e=d?c:-1,f=Object(l);(d?e--:++e<c)&&!1!==a(f[e],e,f););return l}}function sd(b){return function(d,l,a){var c=-1,e=Object(d);a=a(d);for(var f=a.length;f--;){var g=a[b?f:++c];if(!1===l(e[g],g,e))break}return d}}function Le(b,d,
l){function a(){return(this&&this!==ma&&this instanceof a?e:b).apply(c?l:this,arguments)}var c=1&d,e=ib(b);return a}function td(b){return function(d){d=G(d);var l=qb.test(d)?d.match(aa):m,a=l?l[0]:d.charAt(0);return d=l?l.slice(1).join(""):d.slice(1),a[b]()+d}}function Va(b){return function(d){return v(ud(vd(d)),b,"")}}function ib(b){return function(){var d=arguments;switch(d.length){case 0:return new b;case 1:return new b(d[0]);case 2:return new b(d[0],d[1]);case 3:return new b(d[0],d[1],d[2]);case 4:return new b(d[0],
d[1],d[2],d[3]);case 5:return new b(d[0],d[1],d[2],d[3],d[4]);case 6:return new b(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new b(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var l=Sa(b.prototype),d=b.apply(l,d);return N(d)?d:l}}function Me(b,d,l){function a(){for(var f=arguments.length,g=Array(f),k=f,h=Wa(a);k--;)g[k]=arguments[k];return k=3>f&&g[0]!==h&&g[f-1]!==h?[]:Aa(g,h),f-=k.length,l>f?wd(b,d,Db,a.placeholder,m,g,k,m,m,l-f):c(this&&this!==ma&&this instanceof a?e:b,this,g)}var e=ib(b);return a}function xd(b){return x(function(d){d=
L(d,1);var l=d.length,a=l,c=Z.prototype.thru;for(b&&d.reverse();a--;){var e=d[a];if("function"!=typeof e)throw new ba("Expected a function");if(c&&!f&&"wrapper"==Eb(e))var f=new Z([],!0)}for(a=f?a:l;++a<l;)var e=d[a],c=Eb(e),g="wrapper"==c?kc(e):m,f=g&&lc(g[0])&&424==g[1]&&!g[4].length&&1==g[9]?f[Eb(g[0])].apply(f,g[3]):1==e.length&&lc(e)?f[c]():f.thru(e);return function(){var b=arguments,a=b[0];if(f&&1==b.length&&B(a)&&200<=a.length)return f.plant(a).value();for(var c=0,b=l?d[c].apply(this,b):a;++c<
l;)b=d[c].call(this,b);return b}})}function Db(b,d,l,a,c,e,f,g,k,h){function n(){for(var z=arguments.length,A=z,F=Array(z);A--;)F[A]=arguments[A];if(t){var w,J=Wa(n),A=F.length;for(w=0;A--;)F[A]===J&&w++}if(a&&(F=pd(F,a,c,t)),e&&(F=qd(F,e,f,t)),z-=w,t&&h>z)return J=Aa(F,J),wd(b,d,Db,n.placeholder,l,F,J,g,k,h-z);if(J=q?l:this,A=r?J[b]:b,z=F.length,g){w=F.length;for(var x=fa(g.length,w),E=U(F);x--;){var y=g[x];F[x]=za(y,w)?E[y]:m}}else v&&1<z&&F.reverse();return p&&z>k&&(F.length=k),this&&this!==ma&&
this instanceof n&&(A=u||ib(A)),A.apply(J,F)}var p=128&d,q=1&d,r=2&d,t=24&d,v=512&d,u=r?m:ib(b);return n}function yd(b,d){return function(l,a){return Ic(l,b,d(a),{})}}function mc(b){return x(function(d){return d=n(L(d,1),y()),x(function(a){var e=this;return b(d,function(b){return c(b,e,a)})})})}function Fb(b,d,a){return d=D(d),b=cb(b),d&&d>b?(d-=b,a=a===m?" ":a+"",b=zd(a,Gb(d/cb(a))),qb.test(a)?b.match(aa).slice(0,d).join(""):b.slice(0,d)):""}function Ne(b,d,a,e){function f(){for(var d=-1,h=arguments.length,
m=-1,n=e.length,p=Array(n+h),q=this&&this!==ma&&this instanceof f?k:b;++m<n;)p[m]=e[m];for(;h--;)p[m++]=arguments[++d];return c(q,g?a:this,p)}var g=1&d,k=ib(b);return f}function Ad(b){return function(d,a,c){c&&"number"!=typeof c&&la(d,a,c)&&(a=c=m);d=S(d);d=d===d?d:0;a===m?(a=d,d=0):a=S(a)||0;c=c===m?a>d?1:-1:S(c)||0;var e=-1;a=R(Gb((a-d)/(c||1)),0);for(var f=Array(a);a--;)f[b?a:++e]=d,d+=c;return f}}function wd(b,d,a,c,e,f,g,k,h,n){var p=8&d;k=k?U(k):m;var q=p?g:m;g=p?m:g;var r=p?f:m;return f=p?
m:f,d=(d|(p?32:64))&~(p?64:32),4&d||(d&=-4),d=[b,d,e,r,q,f,g,k,h,n],a=a.apply(m,d),lc(b)&&Bd(a,d),a.placeholder=c,a}function nc(b){var d=Xa[b];return function(b,a){if(b=S(b),a=D(a)){var c=(G(b)+"e").split("e"),c=d(c[0]+"e"+(+c[1]+a)),c=(G(c)+"e").split("e");return+(c[0]+"e"+(+c[1]-a))}return d(b)}}function va(b,d,a,c,e,f,g,k){var h=2&d;if(!h&&"function"!=typeof b)throw new ba("Expected a function");var n=c?c.length:0;if(n||(d&=-97,c=e=m),g=g===m?g:R(D(g),0),k=k===m?k:D(k),n-=e?e.length:0,64&d){var p=
c,q=e;c=e=m}var r=h?m:kc(b);return f=[b,d,a,c,e,p,q,f,g,k],r&&(a=f[1],b=r[1],d=a|b,c=128==b&&8==a||128==b&&256==a&&r[8]>=f[7].length||384==b&&r[8]>=r[7].length&&8==a,131>d||c)&&(1&b&&(f[2]=r[2],d|=1&a?0:4),(a=r[3])&&(c=f[3],f[3]=c?pd(c,a,r[4]):U(a),f[4]=c?Aa(f[3],"__lodash_placeholder__"):U(r[4])),(a=r[5])&&(c=f[5],f[5]=c?qd(c,a,r[6]):U(a),f[6]=c?Aa(f[5],"__lodash_placeholder__"):U(r[6])),(a=r[7])&&(f[7]=U(a)),128&b&&(f[8]=null==f[8]?r[8]:fa(f[8],r[8])),null==f[9]&&(f[9]=r[9]),f[0]=r[0],f[1]=d),b=
f[0],d=f[1],a=f[2],c=f[3],e=f[4],k=f[9]=null==f[9]?h?0:b.length:R(f[9]-n,0),!k&&24&d&&(d&=-25),h=d&&1!=d?8==d||16==d?Me(b,d,k):32!=d&&33!=d||e.length?Db.apply(m,f):Ne(b,d,a,c):Le(b,d,a),(r?Cd:Bd)(h,f)}function Ee(b,d,a,c,e,f){var g=-1,k=2&e,h=1&e,n=b.length,p=d.length;if(!(n==p||k&&p>n))return!1;if(p=f.get(b))return p==d;p=!0;for(f.set(b,d);++g<n;){var q=b[g],r=d[g];if(c)var t=k?c(r,q,g,d,b,f):c(q,r,g,b,d,f);if(t!==m){if(t)continue;p=!1;break}if(h){if(!A(d,function(b){return q===b||a(q,b,c,e,f)})){p=
!1;break}}else if(q!==r&&!a(q,r,c,e,f)){p=!1;break}}return f["delete"](b),p}function Ge(b,d,a,c,e,f){switch(a){case "[object ArrayBuffer]":if(b.byteLength!=d.byteLength||!c(new Bb(b),new Bb(d)))break;return!0;case "[object Boolean]":case "[object Date]":return+b==+d;case "[object Error]":return b.name==d.name&&b.message==d.message;case "[object Number]":return b!=+b?d!=+d:b==+d;case "[object RegExp]":case "[object String]":return b==d+"";case "[object Map]":var g=Ob;case "[object Set]":return g||
(g=pb),(2&f||b.size==d.size)&&c(g(b),g(d),e,1|f);case "[object Symbol]":return!!wa&&oc.call(b)==oc.call(d)}return!1}function Fe(b,d,a,c,f,e){var g=2&f,k=T(b),h=k.length,n=T(d).length;if(h!=n&&!g)return!1;for(var p=h;p--;){var q=k[p];if(!(g?q in d:$b(d,q)))return!1}if(n=e.get(b))return n==d;n=!0;e.set(b,d);for(var r=g;++p<h;){var q=k[p],t=b[q],v=d[q];if(c)var u=g?c(v,t,q,d,b,e):c(t,v,q,b,d,e);if(u===m?t!==v&&!a(t,v,c,f,e):!u){n=!1;break}r||(r="constructor"==q)}return n&&!r&&(a=b.constructor,c=d.constructor,
a!=c&&"constructor"in b&&"constructor"in d&&!("function"==typeof a&&a instanceof a&&"function"==typeof c&&c instanceof c)&&(n=!1)),e["delete"](b),n}function Eb(b){for(var d=b.name+"",a=jb[d],c=O.call(jb,d)?a.length:0;c--;){var e=a[c],f=e.func;if(null==f||f==b)return e.name}return d}function y(){var b=f.iteratee||pc,b=b===pc?Yc:b;return arguments.length?b(arguments[0],arguments[1]):b}function cc(b){b=Dd(b);for(var d=b.length;d--;){var a,c=b[d];a=b[d][1];a=a===a&&!N(a);c[2]=a}return b}function Hb(b,
d){var a=null==b?m:b[d];return Ed(a)?a:m}function Wa(b){return(O.call(f,"placeholder")?f:b).placeholder}function ja(b){return W.call(b)}function Fd(b,d,a){if(null==b)return!1;var c=a(b,d);return c||ta(d)||(d=Fa(d),b=hb(b,d),null!=b&&(d=V(d),c=a(b,d))),a=b?b.length:m,c||!!a&&kb(a)&&za(d,a)&&(B(b)||Ka(b)||Ha(b))}function ye(b){var d=b.length,a=b.constructor(d);return d&&"string"==typeof b[0]&&O.call(b,"index")&&(a.index=b.index,a.input=b.input),a}function Ae(b){return da(b.constructor)&&!qc(b)?Sa(wb(b)):
{}}function Be(b,d,a){var c=b.constructor;switch(d){case "[object ArrayBuffer]":return od(b);case "[object Boolean]":case "[object Date]":return new c(+b);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return d=b.buffer,a=a?od(d):d,new b.constructor(a,b.byteOffset,b.length);case "[object Map]":return a=
b.constructor,v(Ob(b),h,new a);case "[object Number]":case "[object String]":return new c(b);case "[object RegExp]":return a=new b.constructor(b.source,Gd.exec(b)),a.lastIndex=b.lastIndex,a;case "[object Set]":return a=b.constructor,v(pb(b),e,new a);case "[object Symbol]":return wa?Object(oc.call(b)):{}}}function Hd(b){var d=b?b.length:m;return kb(d)&&(B(b)||Ka(b)||Ha(b))?Na(d,String):null}function la(b,d,a){if(!N(a))return!1;var c=typeof d;return("number"==c?ea(a)&&za(d,a.length):"string"==c&&d in
a)?ra(a[d],b):!1}function ta(b,d){return"number"==typeof b?!0:!B(b)&&(Oe.test(b)||!Pe.test(b)||null!=d&&b in Object(d))}function Pa(b){var d=typeof b;return"number"==d||"boolean"==d||"string"==d&&"__proto__"!=b||null==b}function lc(b){var d=Eb(b),a=f[d];return"function"==typeof a&&d in C.prototype?b===a?!0:(d=kc(a),!!d&&b===d[0]):!1}function qc(b){var d=b&&b.constructor,d=da(d)&&d.prototype||Qa;return b===d}function Id(b,d,a,c,e,f){return N(b)&&N(d)&&(f.set(d,b),xb(b,d,m,Id,f)),b}function hb(b,d){return 1==
d.length?b:fb(b,ua(d,0,-1))}function Sc(b){var d=[];return G(b).replace(Qe,function(b,a,c,e){d.push(c?e.replace(Re,"$1"):a||b)}),d}function Oc(b){if(b instanceof C)return b.clone();var d=new Z(b.__wrapped__,b.__chain__);return d.__actions__=U(b.__actions__),d.__index__=b.__index__,d.__values__=b.__values__,d}function Jd(b,d,a){var c=b?b.length:0;return c?(d=a||d===m?1:D(d),ua(b,0>d?0:d,c)):[]}function Kd(b,d,a){var c=b?b.length:0;return c?(d=a||d===m?1:D(d),d=c-d,ua(b,0,0>d?0:d)):[]}function Ld(b){return b?
b[0]:m}function V(b){var d=b?b.length:0;return d?b[d-1]:m}function Md(b,d){return b&&b.length&&d&&d.length?id(b,d):b}function rc(b){return b?Se.call(b):b}function sc(b){if(!b||!b.length)return[];var d=0;return b=u(b,function(b){return Q(b)?(d=R(b.length,d),!0):void 0}),Na(d,function(d){return n(b,ec(d))})}function Nd(b,d){if(!b||!b.length)return[];var a=sc(b);return null==d?a:n(a,function(b){return c(d,m,b)})}function Od(b){return b=f(b),b.__chain__=!0,b}function Ib(b,d){return d(b)}function Te(){return this}
function Pd(b,d){return"function"==typeof d&&B(b)?g(b,d):sa(b,Ea(d))}function Qd(b,d){var a;if("function"==typeof d&&B(b)){for(a=b.length;a--&&!1!==d(b[a],a,b););a=b}else a=tc(b,Ea(d));return a}function Rd(b,d){return(B(b)?n:cd)(b,y(d,3))}function Sd(b,d){var a=-1,c=uc(b),e=c.length,f=e-1;for(d=Ra(D(d),0,e);++a<d;){var e=fc(a,f),g=c[e];c[e]=c[a];c[a]=g}return c.length=d,c}function Td(b,d,a){return d=a?m:d,d=b&&null==d?b.length:d,va(b,128,m,m,m,m,d)}function Ud(b,d){var a;if("function"!=typeof d)throw new ba("Expected a function");
return b=D(b),function(){return 0<--b&&(a=d.apply(this,arguments)),1>=b&&(d=m),a}}function Vd(b,d,a){return d=a?m:d,b=va(b,8,m,m,m,m,m,d),b.placeholder=Vd.placeholder,b}function Wd(b,d,a){return d=a?m:d,b=va(b,16,m,m,m,m,m,d),b.placeholder=Wd.placeholder,b}function Xd(b,d,a){function c(){t&&lb(t);n&&lb(n);u=0;h=n=r=t=v=m}function e(d,a){a&&lb(a);n=t=v=m;d&&(u=mb(),p=b.apply(r,h),t||n||(h=r=m))}function f(){var b=d-(mb()-q);0>=b||b>d?e(v,n):t=ub(f,b)}function g(){e(F,t)}function k(){if(h=arguments,
q=mb(),r=this,v=F&&(t||!z),!1===A)var a=z&&!t;else{u||n||z||(u=q);var c=A-(q-u),l=(0>=c||c>A)&&(z||n);l?(n&&(n=lb(n)),u=q,p=b.apply(r,h)):n||(n=ub(g,c))}return l&&t?t=lb(t):t||d===A||(t=ub(f,d)),a&&(l=!0,p=b.apply(r,h)),!l||t||n||(h=r=m),p}var h,n,p,q,r,t,v,u=0,z=!1,A=!1,F=!0;if("function"!=typeof b)throw new ba("Expected a function");return d=S(d)||0,N(a)&&(z=!!a.leading,A="maxWait"in a&&R(S(a.maxWait)||0,d),F="trailing"in a?!!a.trailing:F),k.cancel=c,k.flush=function(){return(t&&v||n&&F)&&(p=b.apply(r,
h)),c(),p},k}function vc(b,d){if("function"!=typeof b||d&&"function"!=typeof d)throw new ba("Expected a function");var a=function(){var c=arguments,e=d?d.apply(this,c):c[0],f=a.cache;return f.has(e)?f.get(e):(c=b.apply(this,c),a.cache=f.set(e,c),c)};return a.cache=new vc.Cache,a}function x(b,d){if("function"!=typeof b)throw new ba("Expected a function");return d=R(d===m?b.length-1:D(d),0),function(){for(var a=arguments,e=-1,f=R(a.length-d,0),g=Array(f);++e<f;)g[e]=a[d+e];switch(d){case 0:return b.call(this,
g);case 1:return b.call(this,a[0],g);case 2:return b.call(this,a[0],a[1],g)}f=Array(d+1);for(e=-1;++e<d;)f[e]=a[e];return f[d]=g,c(b,this,f)}}function ra(b,d){return b===d||b!==b&&d!==d}function wc(b,d){return b>d}function Ha(b){return Q(b)&&O.call(b,"callee")&&(!Yd.call(b,"callee")||"[object Arguments]"==W.call(b))}function ea(b){return null!=b&&!("function"==typeof b&&da(b))&&kb(Ue(b))}function Q(b){return P(b)&&ea(b)}function xc(b){return P(b)?"[object Error]"==W.call(b)||"string"==typeof b.message&&
"string"==typeof b.name:!1}function da(b){return b=N(b)?W.call(b):"","[object Function]"==b||"[object GeneratorFunction]"==b}function Zd(b){return"number"==typeof b&&b==D(b)}function kb(b){return"number"==typeof b&&-1<b&&0==b%1&&9007199254740991>=b}function N(b){var d=typeof b;return!!b&&("object"==d||"function"==d)}function P(b){return!!b&&"object"==typeof b}function Ed(b){return null==b?!1:da(b)?$d.test(Ca.call(b)):P(b)&&(bb(b)?$d:Ve).test(b)}function ae(b){return"number"==typeof b||P(b)&&"[object Number]"==
W.call(b)}function dc(b){return!P(b)||"[object Object]"!=W.call(b)||bb(b)?!1:(b=wb(b),null===b?!0:(b=b.constructor,"function"==typeof b&&b instanceof b&&Ca.call(b)==We))}function be(b){return N(b)&&"[object RegExp]"==W.call(b)}function Ka(b){return"string"==typeof b||!B(b)&&P(b)&&"[object String]"==W.call(b)}function ce(b){return"symbol"==typeof b||P(b)&&"[object Symbol]"==W.call(b)}function Ta(b){return P(b)&&kb(b.length)&&!!K[W.call(b)]}function yc(b,d){return d>b}function uc(b){if(!b)return[];
if(ea(b))return Ka(b)?b.match(aa):U(b);if(La&&b[La])return Mc(b[La]());var d=ja(b);return("[object Map]"==d?Ob:"[object Set]"==d?pb:Jb)(b)}function D(b){if(!b)return 0===b?b:0;if(b=S(b),b===Kb||b===-Kb)return 1.7976931348623157E308*(0>b?-1:1);var d=b%1;return b===b?d?b-d:b:0}function de(b){return b?Ra(D(b),0,4294967295):0}function S(b){if(N(b)&&(b=da(b.valueOf)?b.valueOf():b,b=N(b)?b+"":b),"string"!=typeof b)return 0===b?b:+b;b=b.replace(zc,"");var d=Xe.test(b);return d||Ye.test(b)?Ze(b.slice(2),
d?2:8):$e.test(b)?af:+b}function ed(b){return eb(b,ca(b))}function G(b){if("string"==typeof b)return b;if(null==b)return"";if(ce(b))return wa?bf.call(b):"";var d=b+"";return"0"==d&&1/b==-Kb?"-0":d}function fb(b,d,a){return b=null==b?m:Zb(b,d),b===m?a:b}function ee(b,d){return Fd(b,d,$b)}function dd(b,d){return Fd(b,d,Tb)}function T(b){var d=qc(b);if(!d&&!ea(b))return cf(Object(b));var a,c=Hd(b),e=!!c,c=c||[],f=c.length;for(a in b)!$b(b,a)||e&&("length"==a||za(a,f))||d&&"constructor"==a||c.push(a);
return c}function ca(b){for(var d=-1,a=qc(b),c=bd(b),e=c.length,f=Hd(b),g=!!f,f=f||[],k=f.length;++d<e;){var h=c[d];g&&("length"==h||za(h,k))||"constructor"==h&&(a||!O.call(b,h))||f.push(h)}return f}function Dd(b){return Y(b,T(b))}function Jb(b){return b?ya(b,T(b)):[]}function Ac(b){return fe(G(b).toLowerCase())}function vd(b){return(b=G(b))&&b.replace(df,ue).replace(ef,"")}function zd(b,d){b=G(b);d=D(d);var a="";if(!b||1>d||9007199254740991<d)return a;do d%2&&(a+=b),d=yb(d/2),b+=b;while(d);return a}
function ud(b,d,a){return b=G(b),d=a?m:d,d===m&&(d=ff.test(b)?gf:hf),b.match(d)||[]}function Bc(b){return function(){return b}}function ha(b){return b}function pc(b){return Yc("function"==typeof b?b:ia(b,!0))}function Cc(b,d,a){var c=T(d),e=vb(d,c);null!=a||N(d)&&(e.length||!c.length)||(a=d,d=b,b=this,e=vb(d,T(d)));var f=N(a)&&"chain"in a?a.chain:!0,k=da(b);return g(e,function(a){var c=d[a];b[a]=c;k&&(b.prototype[a]=function(){var d=this.__chain__;if(f||d){var a=b(this.__wrapped__);return(a.__actions__=
U(this.__actions__)).push({func:c,args:arguments,thisArg:b}),a.__chain__=d,a}return c.apply(b,q([this.value()],arguments))})}),b}function Dc(){}function ad(b){return ta(b)?ec(b):He(b)}function ge(b){return b&&b.length?ab(b,ha):0}M=M?Da.defaults({},M,Da.pick(ma,jf)):ma;var kf=M.Date,lf=M.Error,Xa=M.Math,Ec=M.RegExp,ba=M.TypeError,Lb=M.Array.prototype,Qa=M.Object.prototype,Ca=M.Function.prototype.toString,O=Qa.hasOwnProperty,mf=0,We=Ca.call(Object),W=Qa.toString,nf=ma._,$d=Ec("^"+Ca.call(O).replace(Fc,
"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=he?M.Buffer:m,je=M.Reflect,wa=M.Symbol,Bb=M.Uint8Array,lb=M.clearTimeout,ke=je?je.enumerate:m,wb=Object.getPrototypeOf,of=Object.getOwnPropertySymbols,La="symbol"==typeof(La=wa&&wa.iterator)?La:m,De=Object.create,Yd=Qa.propertyIsEnumerable,ub=M.setTimeout,sb=Lb.splice,Gb=Xa.ceil,yb=Xa.floor,pf=M.isFinite,qf=Lb.join,cf=Object.keys,R=Xa.max,fa=Xa.min,rf=M.parseInt,kd=Xa.random,Se=Lb.reverse,na=Hb(M,"Map"),Ma=Hb(M,
"Set"),Ya=Hb(M,"WeakMap"),Za=Hb(Object,"create"),Mb=Ya&&new Ya,sf=na?Ca.call(na):"",tf=Ma?Ca.call(Ma):"",uf=Ya?Ca.call(Ya):"",le=wa?wa.prototype:m,oc=wa?le.valueOf:m,bf=wa?le.toString:m,jb={};f.templateSettings={escape:vf,evaluate:wf,interpolate:me,variable:"",imports:{_:f}};var sa=rd(ka),tc=rd(Yb,!0),Xb=sd(),Xc=sd(!0);ke&&!Yd.call({valueOf:1},"valueOf")&&(bd=function(b){return Mc(ke(b))});var Cd=Mb?function(b,d){return Mb.set(b,d),b}:ha,Je=Ma&&2===(new Ma([1,2])).size?function(b){return new Ma(b)}:
Dc,kc=Mb?function(b){return Mb.get(b)}:Dc,Ue=ec("length"),Ke=of||function(){return[]};(na&&"[object Map]"!=ja(new na)||Ma&&"[object Set]"!=ja(new Ma)||Ya&&"[object WeakMap]"!=ja(new Ya))&&(ja=function(b){var d=W.call(b);if(b="[object Object]"==d?b.constructor:null,b="function"==typeof b?Ca.call(b):"")switch(b){case sf:return"[object Map]";case tf:return"[object Set]";case uf:return"[object WeakMap]"}return d});var Bd=function(){var b=0,d=0;return function(a,c){var e=mb(),f=16-(e-d);if(d=e,0<f){if(150<=
++b)return a}else b=0;return Cd(a,c)}}(),xf=x(function(b,d){B(b)||(b=null==b?[]:[Object(b)]);d=L(d,1);for(var a=b,c=d,e=-1,f=a.length,g=-1,k=c.length,h=Array(f+k);++e<f;)h[e]=a[e];for(;++g<k;)h[e++]=c[g];return h}),yf=x(function(b,d){return Q(b)?Ga(b,L(d,1,!0)):[]}),zf=x(function(b,d){var a=V(d);return Q(a)&&(a=m),Q(b)?Ga(b,L(d,1,!0),y(a)):[]}),Af=x(function(b,d){var a=V(d);return Q(a)&&(a=m),Q(b)?Ga(b,L(d,1,!0),m,a):[]}),Bf=x(function(b){var d=n(b,Wb);return d.length&&d[0]===b[0]?ac(d):[]}),Cf=x(function(b){var d=
V(b),a=n(b,Wb);return d===V(a)?d=m:a.pop(),a.length&&a[0]===b[0]?ac(a,y(d)):[]}),Df=x(function(b){var d=V(b),a=n(b,Wb);return d===V(a)?d=m:a.pop(),a.length&&a[0]===b[0]?ac(a,m,d):[]}),Ef=x(Md),Ff=x(function(b,d){d=n(L(d,1),String);var a=Vb(b,d);return jd(b,d.sort(Kc)),a}),Gf=x(function(b){return Ja(L(b,1,!0))}),Hf=x(function(b){var d=V(b);return Q(d)&&(d=m),Ja(L(b,1,!0),y(d))}),If=x(function(b){var d=V(b);return Q(d)&&(d=m),Ja(L(b,1,!0),m,d)}),Jf=x(function(b,d){return Q(b)?Ga(b,d):[]}),Kf=x(function(b){return ic(u(b,
Q))}),Lf=x(function(b){var d=V(b);return Q(d)&&(d=m),ic(u(b,Q),y(d))}),Mf=x(function(b){var d=V(b);return Q(d)&&(d=m),ic(u(b,Q),m,d)}),Nf=x(sc),Of=x(function(b){var d=b.length,d=1<d?b[d-1]:m,d="function"==typeof d?(b.pop(),d):m;return Nd(b,d)}),Pf=x(function(b){b=L(b,1);var d=b.length,a=d?b[0]:0,c=this.__wrapped__,e=function(d){return Vb(d,b)};return 1>=d&&!this.__actions__.length&&c instanceof C&&za(a)?(c=c.slice(a,+a+(d?1:0)),c.__actions__.push({func:Ib,args:[e],thisArg:m}),(new Z(c,this.__chain__)).thru(function(b){return d&&
!b.length&&b.push(m),b})):this.thru(e)}),Qf=Cb(function(b,d,a){O.call(b,a)?++b[a]:b[a]=1}),Rf=Cb(function(b,d,a){O.call(b,a)?b[a].push(d):b[a]=[d]}),Sf=x(function(b,d,a){var e=-1,f="function"==typeof d,g=ta(d),k=ea(b)?Array(b.length):[];return sa(b,function(b){var h=f?d:g&&null!=b?b[d]:m;k[++e]=h?c(h,b,a):gb(b,d,a)}),k}),Tf=Cb(function(b,d,a){b[a]=d}),Uf=Cb(function(b,d,a){b[a?0:1].push(d)},function(){return[[],[]]}),Vf=x(function(b,d){if(null==b)return[];var a=d.length;return 1<a&&la(b,d[0],d[1])?
d=[]:2<a&&la(d[0],d[1],d[2])&&(d.length=1),fd(b,L(d,1),[])}),mb=kf.now,Gc=x(function(b,d,a){var c=1;if(a.length)var e=Aa(a,Wa(Gc)),c=32|c;return va(b,c,d,a,e)}),ne=x(function(b,d,a){var c=3;if(a.length)var e=Aa(a,Wa(ne)),c=32|c;return va(d,c,b,a,e)}),Wf=x(function(b,d){return Vc(b,1,d)}),Xf=x(function(b,d,a){return Vc(b,S(d)||0,a)}),Yf=x(function(b,d){d=n(L(d,1),y());var a=d.length;return x(function(e){for(var f=-1,g=fa(e.length,a);++f<g;)e[f]=d[f].call(this,e[f]);return c(b,this,e)})}),Hc=x(function(b,
d){var a=Aa(d,Wa(Hc));return va(b,32,m,d,a)}),oe=x(function(b,d){var a=Aa(d,Wa(oe));return va(b,64,m,d,a)}),Zf=x(function(b,d){return va(b,256,m,m,m,L(d,1))}),B=Array.isArray,Tc=ie?function(b){return b instanceof ie}:Bc(!1),$f=Ua(function(b,d){eb(d,T(d),b)}),pe=Ua(function(b,d){eb(d,ca(d),b)}),nb=Ua(function(b,d,a,c){jc(d,ca(d),b,c)}),ag=Ua(function(b,d,a,c){jc(d,T(d),b,c)}),bg=x(function(b,d){return Vb(b,L(d,1))}),cg=x(function(b){return b.push(m,Ub),c(nb,m,b)}),dg=x(function(b){return b.push(m,
Id),c(qe,m,b)}),eg=yd(function(b,d,a){b[d]=a},Bc(ha)),fg=yd(function(b,d,a){O.call(b,d)?b[d].push(a):b[d]=[a]},y),gg=x(gb),hg=Ua(function(b,d,a){xb(b,d,a)}),qe=Ua(function(b,d,a,c){xb(b,d,a,c)}),ig=x(function(b,d){return null==b?{}:(d=n(L(d,1),String),gd(b,Ga(ca(b),d)))}),jg=x(function(b,d){return null==b?{}:gd(b,L(d,1))}),kg=Va(function(b,d,a){return d=d.toLowerCase(),b+(a?Ac(d):d)}),lg=Va(function(b,d,a){return b+(a?"-":"")+d.toLowerCase()}),mg=Va(function(b,d,a){return b+(a?" ":"")+d.toLowerCase()}),
ng=td("toLowerCase"),fe=td("toUpperCase"),og=Va(function(b,d,a){return b+(a?"_":"")+d.toLowerCase()}),pg=Va(function(b,d,a){return b+(a?" ":"")+Ac(d)}),qg=Va(function(b,d,a){return b+(a?" ":"")+d.toUpperCase()}),re=x(function(b,d){try{return c(b,m,d)}catch(a){return xc(a)?a:new lf(a)}}),rg=x(function(b,d){return g(L(d,1),function(d){b[d]=Gc(b[d],b)}),b}),sg=xd(),tg=xd(!0),ug=x(function(b,d){return function(a){return gb(a,b,d)}}),vg=x(function(b,d){return function(a){return gb(b,a,d)}}),wg=mc(n),xg=
mc(w),yg=mc(A),zg=Ad(),Ag=Ad(!0),Bg=nc("ceil"),Cg=nc("floor"),Dg=nc("round");return f.prototype=X.prototype,Z.prototype=Sa(X.prototype),Z.prototype.constructor=Z,C.prototype=Sa(X.prototype),C.prototype.constructor=C,xa.prototype=Za?Za(null):Qa,Ba.prototype.clear=function(){this.__data__={hash:new xa,map:na?new na:[],string:new xa}},Ba.prototype["delete"]=function(b){var d=this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,(Za?d[b]!==m:O.call(d,b))&&delete d[b]):na?d.map["delete"](b):
$a(d.map,b)},Ba.prototype.get=function(b){var d=this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,Za?(b=d[b],b="__lodash_hash_undefined__"===b?m:b):b=O.call(d,b)?d[b]:m,b):na?d.map.get(b):ob(d.map,b)},Ba.prototype.has=function(b){var d=this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,b=Za?d[b]!==m:O.call(d,b)):b=na?d.map.has(b):-1<db(d.map,b),b},Ba.prototype.set=function(b,d){var a=this.__data__;return Pa(b)?("string"==typeof b?a.string:a.hash)[b]=Za&&d===m?"__lodash_hash_undefined__":
d:na?a.map.set(b,d):Pc(a.map,b,d),this},oa.prototype.push=function(b){var d=this.__data__;Pa(b)?(d=d.__data__,("string"==typeof b?d.string:d.hash)[b]="__lodash_hash_undefined__"):d.set(b,"__lodash_hash_undefined__")},qa.prototype.clear=function(){this.__data__={array:[],map:null}},qa.prototype["delete"]=function(b){var d=this.__data__,a=d.array;return a?$a(a,b):d.map["delete"](b)},qa.prototype.get=function(b){var d=this.__data__,a=d.array;return a?ob(a,b):d.map.get(b)},qa.prototype.has=function(b){var d=
this.__data__,a=d.array;return a?-1<db(a,b):d.map.has(b)},qa.prototype.set=function(b,d){var a=this.__data__,c=a.array;return c&&(199>c.length?Pc(c,b,d):(a.array=null,a.map=new Ba(c))),(a=a.map)&&a.set(b,d),this},vc.Cache=Ba,f.after=function(b,d){if("function"!=typeof d)throw new ba("Expected a function");return b=D(b),function(){return 1>--b?d.apply(this,arguments):void 0}},f.ary=Td,f.assign=$f,f.assignIn=pe,f.assignInWith=nb,f.assignWith=ag,f.at=bg,f.before=Ud,f.bind=Gc,f.bindAll=rg,f.bindKey=ne,
f.castArray=function(){if(!arguments.length)return[];var b=arguments[0];return B(b)?b:[b]},f.chain=Od,f.chunk=function(b,d){d=R(D(d),0);var a=b?b.length:0;if(!a||1>d)return[];for(var c=0,e=-1,f=Array(Gb(a/d));a>c;)f[++e]=ua(b,c,c+=d);return f},f.compact=function(b){for(var d=-1,a=b?b.length:0,c=-1,e=[];++d<a;){var f=b[d];f&&(e[++c]=f)}return e},f.concat=xf,f.cond=function(b){var d=b?b.length:0,a=y();return b=d?n(b,function(b){if("function"!=typeof b[1])throw new ba("Expected a function");return[a(b[0]),
b[1]]}):[],x(function(a){for(var e=-1;++e<d;){var f=b[e];if(c(f[0],this,a))return c(f[1],this,a)}})},f.conforms=function(b){return Qb(ia(b,!0))},f.constant=Bc,f.countBy=Qf,f.create=function(b,d){var a=Sa(b);return d?Rc(a,d):a},f.curry=Vd,f.curryRight=Wd,f.debounce=Xd,f.defaults=cg,f.defaultsDeep=dg,f.defer=Wf,f.delay=Xf,f.difference=yf,f.differenceBy=zf,f.differenceWith=Af,f.drop=Jd,f.dropRight=Kd,f.dropRightWhile=function(b,d){return b&&b.length?Ab(b,y(d,3),!0,!0):[]},f.dropWhile=function(b,d){return b&&
b.length?Ab(b,y(d,3),!0):[]},f.fill=function(b,d,a,c){var e=b?b.length:0;if(!e)return[];a&&"number"!=typeof a&&la(b,d,a)&&(a=0,c=e);e=b.length;a=D(a);0>a&&(a=-a>e?0:e+a);c=c===m||c>e?e:D(c);0>c&&(c+=e);for(c=a>c?0:de(c);c>a;)b[a++]=d;return b},f.filter=function(b,d){return(B(b)?u:Wc)(b,y(d,3))},f.flatMap=function(b,d){return L(Rd(b,d),1)},f.flatten=function(b){return b&&b.length?L(b,1):[]},f.flattenDeep=function(b){return b&&b.length?L(b,Kb):[]},f.flattenDepth=function(b,d){return b&&b.length?(d=
d===m?1:D(d),L(b,d)):[]},f.flip=function(b){return va(b,512)},f.flow=sg,f.flowRight=tg,f.fromPairs=function(b){for(var d=-1,a=b?b.length:0,c={};++d<a;){var e=b[d];c[e[0]]=e[1]}return c},f.functions=function(b){return null==b?[]:vb(b,T(b))},f.functionsIn=function(b){return null==b?[]:vb(b,ca(b))},f.groupBy=Rf,f.initial=function(b){return Kd(b,1)},f.intersection=Bf,f.intersectionBy=Cf,f.intersectionWith=Df,f.invert=eg,f.invertBy=fg,f.invokeMap=Sf,f.iteratee=pc,f.keyBy=Tf,f.keys=T,f.keysIn=ca,f.map=
Rd,f.mapKeys=function(b,d){var a={};return d=y(d,3),ka(b,function(b,c,e){a[d(b,c,e)]=b}),a},f.mapValues=function(b,d){var a={};return d=y(d,3),ka(b,function(b,c,e){a[c]=d(b,c,e)}),a},f.matches=function(b){return $c(ia(b,!0))},f.matchesProperty=function(b,d){return Zc(b,ia(d,!0))},f.memoize=vc,f.merge=hg,f.mergeWith=qe,f.method=ug,f.methodOf=vg,f.mixin=Cc,f.negate=function(b){if("function"!=typeof b)throw new ba("Expected a function");return function(){return!b.apply(this,arguments)}},f.nthArg=function(b){return b=
D(b),function(){return arguments[b]}},f.omit=ig,f.omitBy=function(b,d){return d=y(d),hd(b,function(b,a){return!d(b,a)})},f.once=function(b){return Ud(2,b)},f.orderBy=function(b,d,a,c){return null==b?[]:(B(d)||(d=null==d?[]:[d]),a=c?m:a,B(a)||(a=null==a?[]:[a]),fd(b,d,a))},f.over=wg,f.overArgs=Yf,f.overEvery=xg,f.overSome=yg,f.partial=Hc,f.partialRight=oe,f.partition=Uf,f.pick=jg,f.pickBy=function(b,d){return null==b?{}:hd(b,y(d))},f.property=ad,f.propertyOf=function(b){return function(d){return null==
b?m:Zb(b,d)}},f.pull=Ef,f.pullAll=Md,f.pullAllBy=function(b,d,a){return b&&b.length&&d&&d.length?id(b,d,y(a)):b},f.pullAt=Ff,f.range=zg,f.rangeRight=Ag,f.rearg=Zf,f.reject=function(b,d){var a=B(b)?u:Wc;return d=y(d,3),a(b,function(b,a,c){return!d(b,a,c)})},f.remove=function(b,d){var a=[];if(!b||!b.length)return a;var c=-1,e=[],f=b.length;for(d=y(d,3);++c<f;){var g=b[c];d(g,c,b)&&(a.push(g),e.push(c))}return jd(b,e),a},f.rest=x,f.reverse=rc,f.sampleSize=Sd,f.set=function(b,d,a){return null==b?b:gc(b,
d,a)},f.setWith=function(b,d,a,c){return c="function"==typeof c?c:m,null==b?b:gc(b,d,a,c)},f.shuffle=function(b){return Sd(b,4294967295)},f.slice=function(b,d,a){var c=b?b.length:0;return c?(a&&"number"!=typeof a&&la(b,d,a)?(d=0,a=c):(d=null==d?0:D(d),a=a===m?c:D(a)),ua(b,d,a)):[]},f.sortBy=Vf,f.sortedUniq=function(b){return b&&b.length?ld(b):[]},f.sortedUniqBy=function(b,d){return b&&b.length?ld(b,y(d)):[]},f.split=function(b,d,a){return G(b).split(d,a)},f.spread=function(b,d){if("function"!=typeof b)throw new ba("Expected a function");
return d=d===m?0:R(D(d),0),x(function(a){var e=a[d];return a=a.slice(0,d),e&&q(a,e),c(b,this,a)})},f.tail=function(b){return Jd(b,1)},f.take=function(b,d,a){return b&&b.length?(d=a||d===m?1:D(d),ua(b,0,0>d?0:d)):[]},f.takeRight=function(b,d,a){var c=b?b.length:0;return c?(d=a||d===m?1:D(d),d=c-d,ua(b,0>d?0:d,c)):[]},f.takeRightWhile=function(b,d){return b&&b.length?Ab(b,y(d,3),!1,!0):[]},f.takeWhile=function(b,d){return b&&b.length?Ab(b,y(d,3)):[]},f.tap=function(b,d){return d(b),b},f.throttle=function(b,
d,a){var c=!0,e=!0;if("function"!=typeof b)throw new ba("Expected a function");return N(a)&&(c="leading"in a?!!a.leading:c,e="trailing"in a?!!a.trailing:e),Xd(b,d,{leading:c,maxWait:d,trailing:e})},f.thru=Ib,f.toArray=uc,f.toPairs=Dd,f.toPairsIn=function(b){return Y(b,ca(b))},f.toPath=function(b){return B(b)?n(b,String):Sc(b)},f.toPlainObject=ed,f.transform=function(b,d,a){var c=B(b)||Ta(b);if(d=y(d,4),null==a)if(c||N(b)){var e=b.constructor;a=c?B(b)?new e:[]:da(e)?Sa(wb(b)):{}}else a={};return(c?
g:ka)(b,function(b,c,e){return d(a,b,c,e)}),a},f.unary=function(b){return Td(b,1)},f.union=Gf,f.unionBy=Hf,f.unionWith=If,f.uniq=function(b){return b&&b.length?Ja(b):[]},f.uniqBy=function(b,d){return b&&b.length?Ja(b,y(d)):[]},f.uniqWith=function(b,d){return b&&b.length?Ja(b,m,d):[]},f.unset=function(b,d){var a;if(null==b)a=!0;else{a=b;var c=d,c=ta(c,a)?[c+""]:Fa(c);a=hb(a,c);c=V(c);a=null!=a&&ee(a,c)?delete a[c]:!0}return a},f.unzip=sc,f.unzipWith=Nd,f.values=Jb,f.valuesIn=function(b){return null==
b?[]:ya(b,ca(b))},f.without=Jf,f.words=ud,f.wrap=function(b,d){return d=null==d?ha:d,Hc(d,b)},f.xor=Kf,f.xorBy=Lf,f.xorWith=Mf,f.zip=Nf,f.zipObject=function(b,d){return nd(b||[],d||[],tb)},f.zipObjectDeep=function(b,d){return nd(b||[],d||[],gc)},f.zipWith=Of,f.extend=pe,f.extendWith=nb,Cc(f,f),f.add=function(b,d){var a;return b===m&&d===m?0:(b!==m&&(a=b),d!==m&&(a=a===m?d:a+d),a)},f.attempt=re,f.camelCase=kg,f.capitalize=Ac,f.ceil=Bg,f.clamp=function(b,d,a){return a===m&&(a=d,d=m),a!==m&&(a=S(a),
a=a===a?a:0),d!==m&&(d=S(d),d=d===d?d:0),Ra(S(b),d,a)},f.clone=function(b){return ia(b)},f.cloneDeep=function(b){return ia(b,!0)},f.cloneDeepWith=function(b,d){return ia(b,!0,d)},f.cloneWith=function(b,d){return ia(b,!1,d)},f.deburr=vd,f.endsWith=function(b,d,a){b=G(b);d="string"==typeof d?d:d+"";var c=b.length;return a=a===m?c:Ra(D(a),0,c),a-=d.length,0<=a&&b.indexOf(d,a)==a},f.eq=ra,f.escape=function(b){return(b=G(b))&&Eg.test(b)?b.replace(se,ve):b},f.escapeRegExp=function(b){return(b=G(b))&&Fg.test(b)?
b.replace(Fc,"\\$&"):b},f.every=function(b,d,a){var c=B(b)?w:Rb;return a&&la(b,d,a)&&(d=m),c(b,y(d,3))},f.find=function(b,d){if(d=y(d,3),B(b)){var a=E(b,d);return-1<a?b[a]:m}return t(b,d,sa)},f.findIndex=function(b,d){return b&&b.length?E(b,y(d,3)):-1},f.findKey=function(b,d){return t(b,y(d,3),ka,!0)},f.findLast=function(b,d){if(d=y(d,3),B(b)){var a=E(b,d,!0);return-1<a?b[a]:m}return t(b,d,tc)},f.findLastIndex=function(b,d){return b&&b.length?E(b,y(d,3),!0):-1},f.findLastKey=function(b,d){return t(b,
y(d,3),Yb,!0)},f.floor=Cg,f.forEach=Pd,f.forEachRight=Qd,f.forIn=function(b,d){return null==b?b:Xb(b,Ea(d),ca)},f.forInRight=function(b,d){return null==b?b:Xc(b,Ea(d),ca)},f.forOwn=function(b,d){return b&&ka(b,Ea(d))},f.forOwnRight=function(b,d){return b&&Yb(b,Ea(d))},f.get=fb,f.gt=wc,f.gte=function(b,d){return b>=d},f.has=ee,f.hasIn=dd,f.head=Ld,f.identity=ha,f.includes=function(b,d,a,c){return b=ea(b)?b:Jb(b),a=a&&!c?D(a):0,c=b.length,0>a&&(a=R(c+a,0)),Ka(b)?c>=a&&-1<b.indexOf(d,a):!!c&&-1<p(b,
d,a)},f.indexOf=function(b,a,c){var e=b?b.length:0;return e?(c=D(c),0>c&&(c=R(e+c,0)),p(b,a,c)):-1},f.inRange=function(b,a,c){return a=S(a)||0,c===m?(c=a,a=0):c=S(c)||0,b=S(b),b>=fa(a,c)&&b<R(a,c)},f.invoke=gg,f.isArguments=Ha,f.isArray=B,f.isArrayBuffer=function(b){return P(b)&&"[object ArrayBuffer]"==W.call(b)},f.isArrayLike=ea,f.isArrayLikeObject=Q,f.isBoolean=function(b){return!0===b||!1===b||P(b)&&"[object Boolean]"==W.call(b)},f.isBuffer=Tc,f.isDate=function(b){return P(b)&&"[object Date]"==
W.call(b)},f.isElement=function(b){return!!b&&1===b.nodeType&&P(b)&&!dc(b)},f.isEmpty=function(b){if(ea(b)&&(B(b)||Ka(b)||da(b.splice)||Ha(b)))return!b.length;for(var a in b)if(O.call(b,a))return!1;return!0},f.isEqual=function(b,a){return Ia(b,a)},f.isEqualWith=function(b,a,c){var e=(c="function"==typeof c?c:m)?c(b,a):m;return e===m?Ia(b,a,c):!!e},f.isError=xc,f.isFinite=function(b){return"number"==typeof b&&pf(b)},f.isFunction=da,f.isInteger=Zd,f.isLength=kb,f.isMap=function(b){return P(b)&&"[object Map]"==
ja(b)},f.isMatch=function(b,a){return b===a||bc(b,a,cc(a))},f.isMatchWith=function(b,a,c){return c="function"==typeof c?c:m,bc(b,a,cc(a),c)},f.isNaN=function(b){return ae(b)&&b!=+b},f.isNative=Ed,f.isNil=function(b){return null==b},f.isNull=function(b){return null===b},f.isNumber=ae,f.isObject=N,f.isObjectLike=P,f.isPlainObject=dc,f.isRegExp=be,f.isSafeInteger=function(b){return Zd(b)&&-9007199254740991<=b&&9007199254740991>=b},f.isSet=function(b){return P(b)&&"[object Set]"==ja(b)},f.isString=Ka,
f.isSymbol=ce,f.isTypedArray=Ta,f.isUndefined=function(b){return b===m},f.isWeakMap=function(b){return P(b)&&"[object WeakMap]"==ja(b)},f.isWeakSet=function(b){return P(b)&&"[object WeakSet]"==W.call(b)},f.join=function(b,a){return b?qf.call(b,a):""},f.kebabCase=lg,f.last=V,f.lastIndexOf=function(b,a,c){var e=b?b.length:0;if(!e)return-1;var f=e;if(c!==m&&(f=D(c),f=(0>f?R(e+f,0):fa(f,e-1))+1),a!==a)return Lc(b,f,!0);for(;f--;)if(b[f]===a)return f;return-1},f.lowerCase=mg,f.lowerFirst=ng,f.lt=yc,f.lte=
function(b,a){return a>=b},f.max=function(b){return b&&b.length?z(b,ha,wc):m},f.maxBy=function(b,a){return b&&b.length?z(b,y(a),wc):m},f.mean=function(b){return ge(b)/(b?b.length:0)},f.min=function(b){return b&&b.length?z(b,ha,yc):m},f.minBy=function(b,a){return b&&b.length?z(b,y(a),yc):m},f.noConflict=function(){return ma._===this&&(ma._=nf),this},f.noop=Dc,f.now=mb,f.pad=function(b,a,c){b=G(b);a=D(a);var e=cb(b);return a&&a>e?(e=(a-e)/2,a=yb(e),e=Gb(e),Fb("",a,c)+b+Fb("",e,c)):b},f.padEnd=function(b,
a,c){return b=G(b),b+Fb(b,a,c)},f.padStart=function(b,a,c){return b=G(b),Fb(b,a,c)+b},f.parseInt=function(b,a,c){return c||null==a?a=0:a&&(a=+a),b=G(b).replace(zc,""),rf(b,a||(Gg.test(b)?16:10))},f.random=function(b,a,c){if(c&&"boolean"!=typeof c&&la(b,a,c)&&(a=c=m),c===m&&("boolean"==typeof a?(c=a,a=m):"boolean"==typeof b&&(c=b,b=m)),b===m&&a===m?(b=0,a=1):(b=S(b)||0,a===m?(a=b,b=0):a=S(a)||0),b>a){var e=b;b=a;a=e}return c||b%1||a%1?(c=kd(),fa(b+c*(a-b+Hg("1e-"+((c+"").length-1))),a)):fc(b,a)},f.reduce=
function(b,a,c){var e=B(b)?v:J,f=3>arguments.length;return e(b,y(a,4),c,f,sa)},f.reduceRight=function(b,a,c){var e=B(b)?H:J,f=3>arguments.length;return e(b,y(a,4),c,f,tc)},f.repeat=zd,f.replace=function(){var b=arguments,a=G(b[0]);return 3>b.length?a:a.replace(b[1],b[2])},f.result=function(b,a,c){if(ta(a,b))e=null==b?m:b[a];else{a=Fa(a);var e=fb(b,a);b=hb(b,a)}return e===m&&(e=c),da(e)?e.call(b):e},f.round=Dg,f.runInContext=Nc,f.sample=function(b){b=ea(b)?b:Jb(b);var a=b.length;return 0<a?b[fc(0,
a-1)]:m},f.size=function(b){if(null==b)return 0;if(ea(b)){var a=b.length;return a&&Ka(b)?cb(b):a}return T(b).length},f.snakeCase=og,f.some=function(b,a,c){var e=B(b)?A:Ie;return c&&la(b,a,c)&&(a=m),e(b,y(a,3))},f.sortedIndex=function(b,a){return zb(b,a)},f.sortedIndexBy=function(b,a,c){return hc(b,a,y(c))},f.sortedIndexOf=function(b,a){var c=b?b.length:0;if(c){var e=zb(b,a);if(c>e&&ra(b[e],a))return e}return-1},f.sortedLastIndex=function(b,a){return zb(b,a,!0)},f.sortedLastIndexBy=function(b,a,c){return hc(b,
a,y(c),!0)},f.sortedLastIndexOf=function(b,a){if(b&&b.length){var c=zb(b,a,!0)-1;if(ra(b[c],a))return c}return-1},f.startCase=pg,f.startsWith=function(b,a,c){return b=G(b),c=Ra(D(c),0,b.length),b.lastIndexOf(a,c)==c},f.subtract=function(b,a){var c;return b===m&&a===m?0:(b!==m&&(c=b),a!==m&&(c=c===m?a:c-a),c)},f.sum=ge,f.sumBy=function(b,a){return b&&b.length?ab(b,y(a)):0},f.template=function(b,a,c){var e=f.templateSettings;c&&la(b,a,c)&&(a=m);b=G(b);a=nb({},a,e,Ub);c=nb({},a.imports,e.imports,Ub);
var g,k,h=T(c),n=ya(c,h),p=0;c=a.interpolate||Nb;var q="__p+='";c=Ec((a.escape||Nb).source+"|"+c.source+"|"+(c===me?Ig:Nb).source+"|"+(a.evaluate||Nb).source+"|$","g");var r="sourceURL"in a?"//# sourceURL="+a.sourceURL+"\n":"";if(b.replace(c,function(a,d,c,e,f,h){return c||(c=e),q+=b.slice(p,h).replace(Jg,we),d&&(g=!0,q+="'+__e("+d+")+'"),f&&(k=!0,q+="';"+f+";\n__p+='"),c&&(q+="'+((__t=("+c+"))==null?'':__t)+'"),p=h+a.length,a}),q+="';",(a=a.variable)||(q="with(obj){"+q+"}"),q=(k?q.replace(Kg,""):
q).replace(Lg,"$1").replace(Mg,"$1;"),q="function("+(a||"obj")+"){"+(a?"":"obj||(obj={});")+"var __t,__p=''"+(g?",__e=_.escape":"")+(k?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+q+"return __p}",a=re(function(){return Function(h,r+"return "+q).apply(m,n)}),a.source=q,xc(a))throw a;return a},f.times=function(b,a){if(b=D(b),1>b||9007199254740991<b)return[];var c=4294967295,e=fa(b,4294967295);a=Ea(a);b-=4294967295;for(e=Na(e,a);++c<b;)a(c);return e},f.toInteger=D,f.toLength=
de,f.toLower=function(b){return G(b).toLowerCase()},f.toNumber=S,f.toSafeInteger=function(b){return Ra(D(b),-9007199254740991,9007199254740991)},f.toString=G,f.toUpper=function(b){return G(b).toUpperCase()},f.trim=function(b,a,c){return(b=G(b))?c||a===m?b.replace(zc,""):(a+="")?(b=b.match(aa),a=a.match(aa),b.slice(ga(b,a),Jc(b,a)+1).join("")):b:b},f.trimEnd=function(b,a,c){return(b=G(b))?c||a===m?b.replace(Ng,""):(a+="")?(b=b.match(aa),b.slice(0,Jc(b,a.match(aa))+1).join("")):b:b},f.trimStart=function(b,
a,c){return(b=G(b))?c||a===m?b.replace(Og,""):(a+="")?(b=b.match(aa),b.slice(ga(b,a.match(aa))).join("")):b:b},f.truncate=function(b,a){var c=30,e="...";if(N(a))var f="separator"in a?a.separator:f,c="length"in a?D(a.length):c,e="omission"in a?G(a.omission):e;b=G(b);var g=b.length;if(qb.test(b))var k=b.match(aa),g=k.length;if(c>=g)return b;if(g=c-cb(e),1>g)return e;if(c=k?k.slice(0,g).join(""):b.slice(0,g),f===m)return c+e;if(k&&(g+=c.length-g),be(f)){if(b.slice(g).search(f)){var h=c;f.global||(f=
Ec(f.source,G(Gd.exec(f))+"g"));for(f.lastIndex=0;k=f.exec(h);)var n=k.index;c=c.slice(0,n===m?g:n)}}else b.indexOf(f,g)!=g&&(f=c.lastIndexOf(f),-1<f&&(c=c.slice(0,f)));return c+e},f.unescape=function(b){return(b=G(b))&&Pg.test(b)?b.replace(te,xe):b},f.uniqueId=function(b){var a=++mf;return G(b)+a},f.upperCase=qg,f.upperFirst=fe,f.each=Pd,f.eachRight=Qd,f.first=Ld,Cc(f,function(){var b={};return ka(f,function(a,c){O.call(f.prototype,c)||(b[c]=a)}),b}(),{chain:!1}),f.VERSION="4.5.1",g("bind bindKey curry curryRight partial partialRight".split(" "),
function(b){f[b].placeholder=f}),g(["drop","take"],function(b,a){C.prototype[b]=function(c){var e=this.__filtered__;if(e&&!a)return new C(this);c=c===m?1:R(D(c),0);var f=this.clone();return e?f.__takeCount__=fa(c,f.__takeCount__):f.__views__.push({size:fa(c,4294967295),type:b+(0>f.__dir__?"Right":"")}),f};C.prototype[b+"Right"]=function(a){return this.reverse()[b](a).reverse()}}),g(["filter","map","takeWhile"],function(b,a){var c=a+1,e=1==c||3==c;C.prototype[b]=function(b){var a=this.clone();return a.__iteratees__.push({iteratee:y(b,
3),type:c}),a.__filtered__=a.__filtered__||e,a}}),g(["head","last"],function(b,a){var c="take"+(a?"Right":"");C.prototype[b]=function(){return this[c](1).value()[0]}}),g(["initial","tail"],function(b,a){var c="drop"+(a?"":"Right");C.prototype[b]=function(){return this.__filtered__?new C(this):this[c](1)}}),C.prototype.compact=function(){return this.filter(ha)},C.prototype.find=function(b){return this.filter(b).head()},C.prototype.findLast=function(b){return this.reverse().find(b)},C.prototype.invokeMap=
x(function(b,a){return"function"==typeof b?new C(this):this.map(function(c){return gb(c,b,a)})}),C.prototype.reject=function(b){return b=y(b,3),this.filter(function(a){return!b(a)})},C.prototype.slice=function(b,a){b=D(b);var c=this;return c.__filtered__&&(0<b||0>a)?new C(c):(0>b?c=c.takeRight(-b):b&&(c=c.drop(b)),a!==m&&(a=D(a),c=0>a?c.dropRight(-a):c.take(a-b)),c)},C.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},C.prototype.toArray=function(){return this.take(4294967295)},
ka(C.prototype,function(b,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),e=/^(?:head|last)$/.test(a),g=f[e?"take"+("last"==a?"Right":""):a],k=e||/^find/.test(a);g&&(f.prototype[a]=function(){var a=this.__wrapped__,d=e?[1]:arguments,h=a instanceof C,n=d[0],p=h||B(a),r=function(b){return b=g.apply(f,q([b],d)),e&&t?b[0]:b};p&&c&&"function"==typeof n&&1!=n.length&&(h=p=!1);var t=this.__chain__,v=!!this.__actions__.length,n=k&&!t,h=h&&!v;return!k&&p?(a=h?a:new C(this),a=b.apply(a,d),a.__actions__.push({func:Ib,
args:[r],thisArg:m}),new Z(a,t)):n&&h?b.apply(this,d):(a=this.thru(r),n?e?a.value()[0]:a.value():a)})}),g("pop push shift sort splice unshift".split(" "),function(b){var a=Lb[b],c=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",e=/^(?:pop|shift)$/.test(b);f.prototype[b]=function(){var b=arguments;return e&&!this.__chain__?a.apply(this.value(),b):this[c](function(c){return a.apply(c,b)})}}),ka(C.prototype,function(b,a){var c=f[a];if(c){var e=c.name+"";(jb[e]||(jb[e]=[])).push({name:a,func:c})}}),jb[Db(m,
2).name]=[{name:"wrapper",func:m}],C.prototype.clone=function(){var b=new C(this.__wrapped__);return b.__actions__=U(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=U(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=U(this.__views__),b},C.prototype.reverse=function(){if(this.__filtered__){var b=new C(this);b.__dir__=-1;b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b},C.prototype.value=function(){var b,a=this.__wrapped__.value(),
c=this.__dir__,e=B(a),f=0>c,g=e?a.length:0;b=0;for(var k=g,h=this.__views__,n=-1,m=h.length;++n<m;){var p=h[n],q=p.size;switch(p.type){case "drop":b+=q;break;case "dropRight":k-=q;break;case "take":k=fa(k,b+q);break;case "takeRight":b=R(b,k-q)}}if(b={start:b,end:k},k=b.start,h=b.end,b=h-k,f=f?h:k-1,k=this.__iteratees__,h=k.length,n=0,m=fa(b,this.__takeCount__),!e||200>g||g==b&&m==b)return md(a,this.__actions__);e=[];a:for(;b--&&m>n;){f+=c;g=-1;for(p=a[f];++g<h;){var r=k[g],q=r.type,r=(0,r.iteratee)(p);
if(2==q)p=r;else if(!r){if(1==q)continue a;break a}}e[n++]=p}return e},f.prototype.at=Pf,f.prototype.chain=function(){return Od(this)},f.prototype.commit=function(){return new Z(this.value(),this.__chain__)},f.prototype.flatMap=function(b){return this.map(b).flatten()},f.prototype.next=function(){this.__values__===m&&(this.__values__=uc(this.value()));var b=this.__index__>=this.__values__.length,a=b?m:this.__values__[this.__index__++];return{done:b,value:a}},f.prototype.plant=function(b){for(var a,
c=this;c instanceof X;){var e=Oc(c);e.__index__=0;e.__values__=m;a?f.__wrapped__=e:a=e;var f=e,c=c.__wrapped__}return f.__wrapped__=b,a},f.prototype.reverse=function(){var b=this.__wrapped__;return b instanceof C?(this.__actions__.length&&(b=new C(this)),b=b.reverse(),b.__actions__.push({func:Ib,args:[rc],thisArg:m}),new Z(b,this.__chain__)):this.thru(rc)},f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return md(this.__wrapped__,this.__actions__)},La&&(f.prototype[La]=Te),f}var m,
Kb=1/0,af=NaN,Kg=/\b__p\+='';/g,Lg=/\b(__p\+=)''\+/g,Mg=/(__e\(.*?\)|\b__t\))\+'';/g,te=/&(?:amp|lt|gt|quot|#39|#96);/g,se=/[&<>"'`]/g,Pg=RegExp(te.source),Eg=RegExp(se.source),vf=/<%-([\s\S]+?)%>/g,wf=/<%([\s\S]+?)%>/g,me=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Qe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,Fc=/[\\^$.*+?()[\]{}|]/g,Fg=RegExp(Fc.source),zc=/^\s+|\s+$/g,Og=/^\s+/,Ng=/\s+$/,Re=/\\(\\)?/g,Ig=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
Gd=/\w*$/,Gg=/^0x/i,$e=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Sb=/^(?:0|[1-9]\d*)$/,df=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Nb=/($^)/,Jg=/['\n\r\u2028\u2029\\]/g,ef=/[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]/g,aa=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
qb=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,hf=/[a-zA-Z0-9]+/g,gf=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+|[A-Z\xc0-\xd6\xd8-\xde]+|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
ff=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jf="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),K={};K["[object Float32Array]"]=K["[object Float64Array]"]=K["[object Int8Array]"]=K["[object Int16Array]"]=K["[object Int32Array]"]=K["[object Uint8Array]"]=K["[object Uint8ClampedArray]"]=
K["[object Uint16Array]"]=K["[object Uint32Array]"]=!0;K["[object Arguments]"]=K["[object Array]"]=K["[object ArrayBuffer]"]=K["[object Boolean]"]=K["[object Date]"]=K["[object Error]"]=K["[object Function]"]=K["[object Map]"]=K["[object Number]"]=K["[object Object]"]=K["[object RegExp]"]=K["[object Set]"]=K["[object String]"]=K["[object WeakMap]"]=!1;var I={};I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=
I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0;I["[object Error]"]=I["[object Function]"]=I["[object WeakMap]"]=!1;var Pb={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A",
"\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o",
"\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Qb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Tb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},X={"function":!0,object:!0},Rb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hg=parseFloat,Ze=parseInt,
xa=X[typeof exports]&&exports&&!exports.nodeType?exports:m,oa=X[typeof module]&&module&&!module.nodeType?module:m,he=oa&&oa.exports===xa?xa:m,Ic=pa(xa&&oa&&"object"==typeof global&&global),ob=pa(X[typeof self]&&self),$a=pa(X[typeof window]&&window),X=pa(X[typeof this]&&this),ma=Ic||$a!==(X&&X.window)&&$a||ob||X||Function("return this")(),Da=Nc();($a||ob||{})._=Da;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("third_party/lo-dash/lo-dash.min",[],function(){return Da}):xa&&
oa?(he&&((oa.exports=Da)._=Da),xa._=Da):ma._=Da}).call(this);
define("qowtRoot/errors/localisedError",["qowtRoot/utils/typeUtils","qowtRoot/utils/i18n","third_party/lo-dash/lo-dash.min"],function(h,e){var c=function(a){a=a||"";this.name="LocalisedError";h.isObject(a)&&_.extend(this,a);this.message=(this.code?this.code+": ":"")+(this.message||JSON.stringify(a)||this.title||this.details||this.additionalInfo);this.title=e.getMessage(this.title);this.details=a.fileName?e.getMessage(this.details,a.fileName):e.getMessage(this.details);this.linkData&&this.linkData.msg&&
(this.linkData.msg=e.getMessage(this.linkData.msg)||this.linkData.msg);Error.captureStackTrace(this,c)};c.prototype=Object.create(Error.prototype);return c.prototype.constructor=c});define("qowtRoot/errors/qowtException",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTException";Error.captureStackTrace(this,e);this.fatal=!0};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTException=e});
define("background/store/fileDetails",["qowtRoot/utils/typeUtils","qowtRoot/errors/qowtException"],function(h,e){var c=function(a){this.mimeType=a.mimeType||a.mimeType_;this.streamURL=a.streamURL||a.streamURL_;this.originalURL=a.originalURL||a.originalURL_;this.preferredFilename=a.preferredFilename||a.preferredFilename_;this.driveDocId=a.driveDocId||a.driveDocId_;this.embedded=a.embedded||a.embedded_;this.userFile=a.userFile||a.userFile_;this.newDocument=a.newDocument;this.tabId=a.tabId||a.tabId_;
this.privateFilePath=a.privateFilePath||a.privateFilePath_;this.downloadFilePath=a.downloadFilePath||a.downloadFilePath_;this.timestamp=a.timestamp||a.timestamp_;this.observerFunc_=void 0;Object.seal(this)};c.prototype=Object.create(Object.prototype,{tabId:{set:function(a){this.tabId_=a;this.invokeObserver_()},get:function(){return this.tabId_}},privateFilePath:{set:function(a){this.privateFilePath_=a;this.invokeObserver_()},get:function(){return this.privateFilePath_}},downloadFilePath:{set:function(a){this.downloadFilePath_=
a;this.invokeObserver_()},get:function(){return this.downloadFilePath_}},timestamp:{set:function(a){this.timestamp_=a;this.invokeObserver_()},get:function(){return this.timestamp_}},mimeType:{set:function(a){this.mimeType_=a;this.invokeObserver_()},get:function(){return this.mimeType_}},streamURL:{set:function(a){this.streamURL_=a;this.invokeObserver_()},get:function(){return this.streamURL_}},originalURL:{set:function(a){this.originalURL_=a;this.invokeObserver_()},get:function(){return this.originalURL_}},
preferredFilename:{set:function(a){this.preferredFilename_=a;this.invokeObserver_()},get:function(){return this.preferredFilename_}},userFile:{set:function(a){this.userFile_=a;this.invokeObserver_()},get:function(){return this.userFile_}},driveDocId:{set:function(a){this.driveDocId_=a;this.invokeObserver_()},get:function(){return this.driveDocId_}}});c.prototype.constructor=c;c.prototype.addObserver=function(a){if(!h.isFunction(a))throw new e("Non-function observer provided to FileDetails object");
this.observerFunc_=a};c.prototype.hasExpired=function(){return!this.tabId&&(new Date).getTime()-this.timestamp>a};c.prototype.toJSON=function(){var a=_.extend({},this);a.userFile_=void 0;return a};var a=7776E6;c.prototype.invokeObserver_=function(){this.observerFunc_&&this.observerFunc_()};return c});
define("qowtRoot/utils/localStorageManager",["qowtRoot/errors/qowtException"],function(h){return{setItem:function(e,c){try{window.localStorage.setItem(e,c)}catch(a){throw new h({title:"storage_quota_exceed_error_short_msg",details:"storage_quota_exceed_error_msg",message:a.message});}},getItem:function(e){return window.localStorage.getItem(e)}}});
define("qowtRoot/utils/uuid",[],function(){return{generateUUID:function(){var h=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var c=(h+16*Math.random())%16|0;h=Math.floor(h/16);return("x"===e?c:c&7|8).toString(16)})}}});
define("background/store/fileStore",["background/store/fileDetails","qowtRoot/utils/localStorageManager","qowtRoot/utils/uuid"],function(h,e,c){var a={init:function(){try{g=(g=e.getItem("qo_file_store"))?JSON.parse(g):{}}catch(a){g={},console.warn("Failed to initialize file store so resetting it to be empty: "+a)}for(var c in g){var r=new h(g[c]);r.addObserver(w);g[c]=r}},addEntry:function(a){var e;a instanceof h&&(a.addObserver(w),e=c.generateUUID(),g[e]=a,w());return e},getEntry:function(a){return g[a]},
findTabId:function(a){var c=[];if(a)for(var e in g)g[e].tabId===a&&c.push(e);return 0<c.length?c:void 0},removeAllTabIds:function(){for(var a in g)g[a].tabId=void 0},deleteOrphans:function(a){for(var c=[],e=a.length,h=0;h<e;h++){var q=a[h];if(!q.isDirectory){var q=q.fullPath,v;v=void 0;if(q){var H=void 0;for(H in g)if(g[H].privateFilePath===q||g[H].downloadFilePath===q){v=H;break}}if(!g[v]||g[v].hasExpired())c.push(q),delete g[v]}}w();return c},window__:function(){return window}},g,w=function(){var c;
a.window__()&&(c=JSON.stringify(g),e.setItem("qo_file_store",c))};return a});
define("background/fileReaper",["background/store/fileStore","qowtRoot/utils/typeUtils","qowtRoot/third_party/when/when","qowtRoot/features/utils","third_party/lo-dash/lo-dash.min"],function(h,e,c,a){var g={init:function(){c(q()).then(v)},addLock:function(a){k.push(a)},removeLock:function(a){a=k.indexOf(a);-1!==a&&k.splice(a,1)}},w,u=!1,r=[],k=[],n=0,q=function(){var a;return function(){var e=c.defer();a?e.resolve(a):window.webkitRequestFileSystem(window.TEMPORARY,1048576,function(c){a=c;e.resolve(a)},
function(){e.reject(Error("File Reaper failed to access the file system"))});return e.promise}}(),v=function(){var a=_.throttle(H,3E4);chrome.tabs.onRemoved.addListener(function(c){g.removeLock(c);h.findTabId(c)&&a()})},H=function(){n||0<k.length||a.isEnabled("suppressFileReapear")||(h.removeAllTabIds(),u=!1,w=window.setTimeout(z,3E5),chrome.windows.getAll({populate:!0},function(a){for(var c=a.length,e=0;e<c;e++)a[e].tabs.forEach(function(a){n++;chrome.tabs.sendMessage(a.id,"reaperCheck",A.bind(this,
a.id))})}))},A=function(a,c){if(u)J(c)&&console.warn("Reaper received a belated Quickoffice tab response - this may result in its private temp file being incorrectly deleted");else{if(J(c)){var e=h.getEntry(c.uuid);e&&(e.tabId=a)}1===n?(window.clearTimeout(w),0<k.length?n=0:t()):n--}},z=function(){u=!0;0<k.length?n=0:t()},t=function(){c(q()).then(function(a){r=[];var c=a.root.createReader(),e=function(){c.readEntries(function(a){0<a.length?(a.forEach(function(a){r.push(a)}),e()):E(r)},E)};e()})},
E=function(a){0<k.length||!e.isList(a)||h.deleteOrphans(a).forEach(function(a){p(a)});n=0},p=function(a){a&&c(q()).then(function(c){c.root.getFile(a,{create:!1},function(c){c.remove(function(){console.log("File Reaper has deleted file "+a)})})})},J=function(a){return e.isObject(a)&&a.hasOwnProperty("uuid")};return g});
define("utils/logUtils",["qowtRoot/utils/typeUtils"],function(h){return{logError:function(e){e&&e.stack?h.isList(e.stack)?(console.error(e.message),e.stack.forEach(function(c){console.error(c.toString())})):console.error(e.stack):console.error(e)}}});
define("background/chromeHandler",["background/store/fileStore","background/store/fileDetails","background/fileReaper","utils/logUtils","qowtRoot/third_party/when/when"],function(h,e,c,a,g){function w(c,e,h){var v=c.length,p=[];return e?q(e,c[0],h):r().catch(function(){return u()}).catch(function(){return k()}).then(function(a){if(H(a)){for(var e=0;e<v;e++)0===e&&a.useTabId?p.push(q(a.useTabId,c[e],h)):p.push(n(a.id,c[e],h));return g.all(p)}throw Error("Could not find valid window");}).catch(a.logError)}
function u(){return g.promise(function(a,c){chrome.windows.getLastFocused({populate:!1},function(e){H(e)?a(e):c(Error("invalid window"))})})}function r(){return g.promise(function(a,c){chrome.windows.getCurrent({populate:!1},function(e){H(e)?a(e):c(Error("invalid window"))})})}function k(){return g.promise(function(a,c){chrome.windows.create({type:"normal",focused:!0},function(e){H(e)?(e.useTabId=e.tabs[0].id,a(e)):c(Error("invalid window"))})})}function n(a,c,e){var k={active:e?e:!1,windowId:a,url:"../views/app.html?uuid="+
c};return g.promise(function(a){chrome.tabs.create(k,a)})}function q(a,c,e){var k={active:e?e:!1,url:"../views/app.html?uuid="+c};return g.promise(function(e,g){var n=h.getEntry(c);n?(n.tabId=a,chrome.tabs.update(a,k,e)):g()})}function v(a){return a&&void 0!==a.id}c.init();var H=function(a){return a&&void 0!==a.id&&!a.incognito};return{handleIncomingMsg:function(a,c){"driveEnabled"===c.msg&&a.postMessage({driveEnabled:!0,supportsTeamDrives:!0})},handleChromeOSFile:function(a){var c,k=g.reject(Error("No file entries were passed to open"));
H=v;if(a){c=[];for(var n=0;n<a.length;++n){var p=new e({userFile:a[n].entry});c.push(h.addEntry(p))}c=w(c,void 0,!0)}return c||k},handleDriveDoc:function(a){var c,k,n=g.reject(Error("No drive doc ids were passed to open"));if(a){k=[];for(var p=0;p<a.length;++p){var q=new e({driveDocId:a[p]}),q=h.addEntry(q);0===p?c=q:k.push(q)}k=0===k.length?g.resolve(c):w(k).yield(c)}return k||n},handleNewCreate:function(a,c){var k=g.reject(Error("No file type was passed."));H=v;var n=[],p=new e({newDocument:a,mimeType:c});
n.push(h.addEntry(p));return w(n,void 0,!0)||k}}});
define("qowtRoot/configs/common",[],function(){var h={SUPPORTED_IMAGE_FORMATS:{jpg:!0,jpeg:!0,gif:!0,png:!0,pic:!1,pict:!1,bmp:!0,tif:!0,tiff:!0},ZOOM:{current:void 0,next:void 0,levels:void 0},LAYOUT_DEFAULT_MAXZOOM:void 0,LAYOUT_DEFAULT_MINZOOM:void 0,LAYOUT_DEFAULT_ZOOM_LEVEL:void 0,DOC_VERIFY_DEBOUNCE:50,DEFAULT_COLORS:"#6B9CD4 #DE7872 #B7D37C #A48CC2 #6CC7E1 #F3AB63 #AEC8EE".split(" "),TEXT_STYLE:{defaultHighlightColor:"rgb(255, 255, 255)",defaultTxtColor:"rgb(0, 0, 0)",shadowText:{setValue:"#000000 0.07em 0.07em 0.07em",
getValue:"rgb(0, 0, 0) 0.07em 0.07em 0.07em"},outlineText:{webkitTextFillColor:"transparent",webkitTextStroke:".05em #000000",webkitTextStrokeWidth:"0.05em",webkitTextStrokeColor:"rgb(0, 0, 0)"},embossedText:{setColor:"#ffffff",getColor:"rgb(255, 255, 255)",setShadow:"#000000 1px 1px 2px",getShadow:"rgb(0, 0, 0) 1px 1px 2px"},engravedText:{setColor:"#999999",getColor:"rgb(153, 153, 153)",setShadow:"#000000 -1px -1px 2px",getShadow:"rgb(0, 0, 0) -1px -1px 2px"}},DEFAULT_BLIP_FILL_PROPERTIES:{tileProps:{Sx:100,
Sy:100,Tx:0,Ty:0,align:"TL"},type:"tileFill"},kMESSAGE_BUS_CONNECTION_RETRY:10,kMESSAGE_BUS_CONNECTION_TIMEOUT:3E4,kMESSAGE_BUS_CONNECTION_TIMEOUT_MSG:"MessageBus: Connection timeout",create:function(){return{SUPPORTED_IMAGE_FORMATS:h.SUPPORTED_IMAGE_FORMATS,DIALOGUE_CONFIG:h.DIALOGUE_CONFIG,DEFAULT_COLORS:h.DEFAULT_COLORS,ZOOM:h.ZOOM,LAYOUT_DEFAULT_MAXZOOM:h.LAYOUT_DEFAULT_MAXZOOM,LAYOUT_DEFAULT_MINZOOM:h.LAYOUT_DEFAULT_MINZOOM,LAYOUT_DEFAULT_ZOOM_LEVEL:h.LAYOUT_DEFAULT_ZOOM_LEVEL}}};return h});
define("qowtRoot/messageBus/messageBusImpl",["qowtRoot/utils/typeUtils","qowtRoot/configs/common","qowtRoot/third_party/when/when"],function(h,e,c){var a=function(a){this.myWin_=a||window;this.pendingConnections_=[];this.acceptedConnections_=[];this.completedConnections_=[];this.acknowledgements_=[];this.listeners_=[];this.msgQueue_=[];this.pendingMsgs_=[];this.myWin_.addEventListener("message",this.handleIncomingMessage_.bind(this),!1)};a.prototype=Object.create(Object.prototype);a.prototype.constructor=
a;a.prototype.connect=function(a,e){if(!a||null===a||!h.isObject(a)||!a.postMessage)throw Error("MessageBus: A valid HTML window object has not been provided to connect()");if(a===this.myWin_)throw Error("MessageBus: Trying to connect to its own window");if(e&&!h.isFunction(e))throw Error("MessageBus: The provided callback function is not of the correct type");for(var g=this.pendingConnections_.length,r=0;r<g;r++)if(this.pendingConnections_[r].win===a)throw Error("MessageBus: Trying to connect to a window that we are already trying to connect to");
g=this.acceptedConnections_.length;for(r=0;r<g;r++)if(this.acceptedConnections_[r].win===a)throw Error("MessageBus: Trying to connect to a window that we are already trying to connect to");g=this.completedConnections_.length;for(r=0;r<g;r++)if(this.completedConnections_[r].win===a)throw Error("MessageBus: Trying to connect to a window that has already been connected");g={win:a,callback:e,currentWaitTime:0,deferred:c.defer()};this.pendingConnections_.push(g);this.tryToConnect_(g);return g.deferred.promise};
a.prototype.pushMessage=function(a){if(!h.isObject(a))throw Error("MessageBus: A valid message object has not been provided to pushMessage()");var c=this.completedConnections_.length;if(0===c)this.pendingMsgs_.push(a);else{if(!h.isObject(a))throw Error("Cannot mark non-object value as quickoffice message");a.qoMessageBus=!0;this.msgQueue_.length>=g&&this.msgQueue_.shift();this.msgQueue_.push(a);for(var e=0;e<c;e++)this.completedConnections_[e].win.postMessage(a,"*")}};a.prototype.listen=function(a,
c){if(!h.isFunction(a))throw Error("MessageBus: A valid listener function has not been provided to listen()");if(c&&!h.isFunction(c))throw Error("MessageBus: The provided filter function is not of the correct type");this.listeners_.push({listener:a,filter:c})};a.prototype.stopListening=function(a){if(!h.isFunction(a))throw Error("MessageBus: A valid listener function has not been provided to stopListening()");for(var c=this.listeners_.length,e=0;e<c;e++)if(this.listeners_[e].listener===a){this.listeners_.splice(e,
1);break}};a.prototype.isConnectedTo=function(a){for(var c=!1,e=this.completedConnections_.length,g=0;g<e;g++)if(a===this.completedConnections_[g].win){c=!0;break}return c};a.prototype.tryToConnect_=function(a){a.currentWaitTime>e.kMESSAGE_BUS_CONNECTION_TIMEOUT?this.handleTimeOut_(a):(a.currentWaitTime+=e.kMESSAGE_BUS_CONNECTION_RETRY,-1!==this.pendingConnections_.indexOf(a)&&a.win.postMessage(w,"*"),a.timeoutId=setTimeout(this.tryToConnect_.bind(this,a),e.kMESSAGE_BUS_CONNECTION_RETRY))};a.prototype.handleTimeOut_=
function(a){var c=e.kMESSAGE_BUS_CONNECTION_TIMEOUT_MSG;window.connectFromAppToQowt&&(c=window.connectFromQowtToApp?Math.abs(Math.round(window.connectFromQowtToApp-window.connectFromAppToQowt)/1E3)>Math.round(e.kMESSAGE_BUS_CONNECTION_TIMEOUT/1E3*.8)?c+":qowt too late to connect":c+":qowt and app connected:handshake failed?":c+":qowt failed to connect");a.deferred.reject(Error(c))};a.prototype.handleIncomingMessage_=function(a){if(a){if(-1!==this.msgQueue_.indexOf(a.data))throw Error("MessageBus: A message that was pushed onto thisbus has arrived back on it - we have a circular dependancy!");
a.data===w?this.handleConnectionRequestMsg_(a):a.data===u?this.handleConnectionAcceptedMsg_(a):a.data===r?this.handleConnectionAckMsg_(a):a&&a.data&&!0===a.data.qoMessageBus&&("chrome-extension://gbkeegbaiigmenfmjfclcdgdpimamgkj"===a.origin||"chrome-extension://bpmcpldpdmajfigpchkicefoigmkfalc"===a.origin||"chrome-extension://ehibbfinohgbchlgdbfpikodjaojhccn"===a.origin)&&this.handleClientMsg_(a)}};a.prototype.handleConnectionRequestMsg_=function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionRequest message");
a.source.postMessage(u,"*")};a.prototype.handleConnectionAcceptedMsg_=function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionAccepted message");for(var c=this.pendingConnections_.length,e=0;e<c;e++)if(this.pendingConnections_[e].win===a.source){c=this.pendingConnections_.splice(e,1)[0];a=this.acknowledgements_.indexOf(a.source);-1===a?this.acceptedConnections_.push(c):(this.acknowledgements_.splice(a,1),this.connectionCompleted_(c));c.win.postMessage(r,"*");break}};a.prototype.handleConnectionAckMsg_=
function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionAck message");for(var c=this.acceptedConnections_.length,e=0;e<c;e++)if(this.acceptedConnections_[e].win===a.source){a=this.acceptedConnections_.splice(e,1)[0];this.connectionCompleted_(a);return}this.acknowledgements_.push(a.source)};a.prototype.handleClientMsg_=function(a){if(a.source){for(var c=this.listeners_.slice(),e=c.length,g=0;g<e;g++){var h=c[g];!h||h.filter&&!h.filter.call(this,a)||h.listener.call(this,a)}e=
this.completedConnections_.length;for(g=0;g<e;g++)this.completedConnections_[g].win!==a.source&&this.completedConnections_[g].win.postMessage(a.data,"*")}};a.prototype.connectionCompleted_=function(a){this.completedConnections_.push(a);clearTimeout(a.timeoutId);for(a.callback&&a.callback.call(this);0<this.pendingMsgs_.length;)this.pushMessage(this.pendingMsgs_.shift());a.deferred.resolve()};var g=10,w="qoConnectionRequest",u="qoConnectionAccepted",r="qoConnectionAck";return a});
define("qowtRoot/messageBus/messageBus",["qowtRoot/messageBus/messageBusImpl"],function(h){return new h});
define("qowtRoot/pubsub/pubsub",["third_party/lo-dash/lo-dash.min"],function(){function h(a,c){var g=[],h=[],u=[],A=[];w[a]&&w[a].length&&(r++,w[a].forEach(function(a){a.config.after?h.push(a):g.push(a);a.config.once&&A.push(a)}),g.concat(h).forEach(function(e){u.push(e.callback(a,c))}),A.forEach(function(a){e(a.token)}));return Promise.all(u)}function e(a){var c;_.values(w).some(function(e){return e.some(function(g,h){return g.token===a?(c=e.splice(h,1)[0],!0):!1})});return c}function c(a){var c=
0;return c=a?w[a]?w[a].length:0:_.values(w).reduce(function(a,c){return a+c.length},0)}function a(){w={}}var g=Object.create(Object.prototype,{subscriberCount:{get:function(){return c()}},registeredSignals:{get:function(){return _.keys(w)}},publishCount:{get:function(){return r}}});g.subscribe=function(a,c,e){if(!_.isString(a)||!a)throw new TypeError("invalid signal");if(!_.isFunction(c))throw new TypeError("invalid callback");e=e||{};e.once=!!e.once;e.after=!!e.after;var g=(++u).toString();w[a]=
w[a]||[];w[a].push({token:g,callback:c,config:e});return g};g.publish=function(a,c){if(!_.isString(a)||!a)throw new TypeError("invalid signal");c=c||{};return h(a,c)};g.doAction=function(a,c){if(!_.isString(a)||!a)throw new TypeError("invalid action");c=c||{};c=_.isString(c)?{contentType:c}:c;return h("qowt:doAction",{action:a,context:c})};g.unsubscribe=function(a){if(void 0!==a){if(!_.isString(a)||!a)throw new TypeError("invalid token");return e(a)}};g.subscriberCountForSignal=function(a){if(!_.isString(a)||
!a)throw new TypeError("invalid signal");return c(a)};g.clear=a;g.reset=function(){a();r=u=0};var w={},u=0,r=0;return g});define("qowtRoot/errors/qowtError",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTError";Error.captureStackTrace(this,e);this.fatal=!1};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTError=e});
define("qowtRoot/errors/qowtSilentError",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTSilentError";Error.captureStackTrace(this,e);this.fatal=!1;this.silent=!0};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTSilentError=e});
define("qowtRoot/errors/errorCatcher","qowtRoot/utils/typeUtils qowtRoot/messageBus/messageBus qowtRoot/pubsub/pubsub qowtRoot/errors/qowtError qowtRoot/errors/qowtSilentError qowtRoot/errors/qowtException".split(" "),function(h,e,c,a,g,w){function u(a){a.error?(console.error("%s caught js exception: %s",z,a.error.name||a.error.message?a.error.name+": "+a.error.message:a.error),console.error(a.error.stack),void 0===a.error.fatal&&(a.error.fatal=!0),k(a.error)):console.error(a)}function r(a,c){console.log("%s caught deprecated error",
z);console.log(c);c.isDeprecatedError=!0;k(c)}function k(c){if(c instanceof Error)void 0===c.fatal&&(c.fatal=!0);else{console.log("%s converting deprecated/bad error",z);switch(!0){case h.isObject(c)&&c.isDeprecatedError:var k={title:c.errorId?c.errorId+"_short_msg":void 0,details:c.errorId?c.errorId+"_msg":void 0,linkData:c.linkData,message:c.additionalInfo};c=c.fatal?new w(k):c.silent?new g(k):new a(k);break;case h.isNumber(c):c=new w({code:c});break;case h.isString(c):c=new w(c);break;default:c=
new w(c.toString())}c.stack=void 0}E.push(c);n(c);if(!c.isSynced){console.log("%s pushing error to msg bus",z);k=_.extend({},c);k.name=c.name;k.message=c.message;k.stack=c.stack;try{e.pushMessage({id:H,error:JSON.stringify(k)})}catch(r){}}}function n(a){console.log("%s dispatching error to observers",z);A.forEach(function(c){try{c.call(c,a)}catch(e){console.warn("Error observer %s threw an exception; ignored",c.name||""),console.warn(e.stack)}})}function q(a){if(a&&a.data&&a.data.error){console.log("%s receiving error from msg bus",
z);a=JSON.parse(a.data.error);var c={};-1!=="Error EvalError RangeError ReferenceError SyntaxError TypeError URIError QOWTError QOWTSilentError QOWTException".split(" ").indexOf(a.name)?(console.log("cast to %s",a.name),c=new window[a.name]):(console.log("cast fallback to Error"),c=Error());_.extend(c,a);void 0===a.stack&&(c.stack=void 0);a=c;a.isSynced=!0;k(a)}}function v(a){return a&&a.data&&a.data.id===H}var H="errorSync",A=[],z="sandbox"===window.name?"QOWT":"App",t,E=[];return{init:function(){t=
c.subscribe("qowt:error",r);window.addEventListener("error",u);e.listen(q,v);Error.stackTraceLimit=Infinity},reset:function(){c.unsubscribe(t);window.removeEventListener("error",u);e.stopListening(q);A=[]},handleError:function(a){k(a)},addObserver:function(a){h.isFunction(a)?A.push(a):console.warn("Error observer must be a function")},observers:function(){return A},lastError:function(){return E[E.length-1]}}});
define("background/pageAPI","background/fileReaper background/store/fileDetails background/store/fileStore background/chromeHandler qowtRoot/errors/errorCatcher qowtRoot/errors/qowtSilentError".split(" "),function(h,e,c,a,g,w){function u(a){if(a&&(a=a["Content-Disposition"]||a["content-disposition"]))try{return a.split("=")[1].trim().replace(/\"/g,"")}catch(c){g.handleError(new w("Failed to parse Content-Disposition Header: "+c))}}window.handleDriveDoc=function(c){return a.handleDriveDoc(c)};window.registerMimeHandlerStream=
function(a){return c.addEntry(new e({mimeType:a.mimeType,streamURL:a.streamUrl,originalURL:a.originalUrl,tabId:a.tabId,preferredFilename:u(a.responseHeaders),embedded:a.embedded}))};window.getFileDetails=function(a){return c.getEntry(a)};window.addReaperLock=function(a){h.addLock(a)};window.removeReaperLock=function(a){h.removeLock(a)};window.cacheTabId=function(a,e){var g=c.getEntry(a);g&&(g.tabId=e)};window.cachePrivateFilePath=function(a,e){var g=c.getEntry(a);g&&(g.privateFilePath=e)};window.cacheDownloadFilePath=
function(a,e){var g=c.getEntry(a);g&&(g.downloadFilePath=e)};window.cacheTimestamp=function(a){if(a=c.getEntry(a))a.timestamp=(new Date).getTime()};window.isReady=!0;return{}});
(function(){function h(c){console.error(c.stack?c.stack:c)}var e=(new Promise(function(c){require(["background/store/fileStore","background/chromeHandler","background/pageAPI"],function(a,e){a.init();c(e)})})).catch(h);(function(){var c=chrome&&chrome.runtime&&chrome.runtime.onConnectExternal&&chrome.runtime.onConnectExternal.addListener;c||console.warn("Missing Chrome Connect API... drive integration wont work");return c})()&&chrome.runtime.onConnectExternal.addListener(function(c){c.onDisconnect.addListener(function(){});
c.onMessage.addListener(function(a){e.then(function(e){e.handleIncomingMsg(c,a)}).catch(h)})});(function(){var c=chrome&&chrome.app&&chrome.app.runtime&&chrome.app.runtime.onLaunched&&chrome.app.runtime.onLaunched.addListener;c||console.warn("Missing ChromeOS Runtime OnLaunched API... opening documents from file browser wont work");return c})()&&chrome.app.runtime.onLaunched.addListener(function(c){"qo_documents"===c.id&&e.then(function(a){a.handleChromeOSFile(c.items)}).catch(h)});chrome.runtime.onMessage.addListener(function(c,
a,g){e.then(function(a){g({newCreate:"Creating new document"});a.handleNewCreate(c.newCreate,c.mimeType)}).catch(h);return!0})})();define("background/backgroundMain",function(){});
